<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Objective-C Generated Code Guide | Protocol Buffers Documentation</title>
<meta name=description content="Describes exactly what Objective-C code the protocol buffer compiler generates for any given protocol definition."><meta property="og:title" content="Objective-C Generated Code Guide"><meta property="og:description" content="Describes exactly what Objective-C code the protocol buffer compiler generates for any given protocol definition."><meta property="og:type" content="article"><meta property="og:url" content="https://protobuf.dev/reference/objective-c/objective-c-generated/"><meta property="article:section" content="reference"><meta itemprop=name content="Objective-C Generated Code Guide"><meta itemprop=description content="Describes exactly what Objective-C code the protocol buffer compiler generates for any given protocol definition."><meta itemprop=wordCount content="4591"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Objective-C Generated Code Guide"><meta name=twitter:description content="Describes exactly what Objective-C code the protocol buffer compiler generates for any given protocol definition."><link rel=preload href=/scss/main.min.27bc098c9a8f7a1246d474f5c8afcee53760c9c7f38125d343ff52e0bf493011.css as=style integrity="sha256-J7wJjJqPehJG1HT1yK/O5TdgycfzgSXTQ/9S4L9JMBE=" crossorigin=anonymous><link href=/scss/main.min.27bc098c9a8f7a1246d474f5c8afcee53760c9c7f38125d343ff52e0bf493011.css rel=stylesheet integrity="sha256-J7wJjJqPehJG1HT1yK/O5TdgycfzgSXTQ/9S4L9JMBE=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5L8P8GRN4Y"></script><script>var doNotTrack=!1,dnt;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5L8P8GRN4Y")}</script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Protocol Buffers Documentation</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="td-sidebar-nav collapse td-sidebar-nav--search-disabled" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li><a href=/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-><span>Protocol Buffers</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-overview-li><a href=/overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-overview><span>Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-installation-li><a href=/installation/ title="Protocol Buffer Compiler Installation" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-installation><span>Protoc Installation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-news-li><a href=/news/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-news><span>News</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-programming-guides-li><a href=/programming-guides/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-programming-guides><span>Programming Guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guideseditions-li><a href=/programming-guides/editions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guideseditions><span>Language Guide (editions)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesproto2-li><a href=/programming-guides/proto2/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesproto2><span>Language Guide (proto 2)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesproto3-li><a href=/programming-guides/proto3/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesproto3><span>Language Guide (proto 3)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesproto-limits-li><a href=/programming-guides/proto-limits/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesproto-limits><span>Proto Limits</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesstyle-li><a href=/programming-guides/style/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesstyle><span>Style Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesenum-li><a href=/programming-guides/enum/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesenum><span>Enum Behavior</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesencoding-li><a href=/programming-guides/encoding/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesencoding><span>Encoding</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesjson-li><a href=/programming-guides/json/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesjson><span>ProtoJSON Format</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidestechniques-li><a href=/programming-guides/techniques/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidestechniques><span>Techniques</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesaddons-li><a href=/programming-guides/addons/ title="Third-Party Add-ons" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesaddons><span>Add-ons</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesextension_declarations-li><a href=/programming-guides/extension_declarations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesextension_declarations><span>Extension Declarations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesfield_presence-li><a href=/programming-guides/field_presence/ title="Application Note: Field Presence" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesfield_presence><span>Field Presence</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesserialization-not-canonical-li><a href=/programming-guides/serialization-not-canonical/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesserialization-not-canonical><span>Proto Serialization Is Not Canonical</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-programming-guidesdeserialize-debug-li><a href=/programming-guides/deserialize-debug/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-programming-guidesdeserialize-debug><span>Deserializing Debug Proto Representations</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-editions-li><a href=/editions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-editions><span>Protobuf Editions</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-editionsoverview-li><a href=/editions/overview/ title="Protobuf Editions Overview" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-editionsoverview><span>Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-editionsfeatures-li><a href=/editions/features/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-editionsfeatures><span>Feature Settings for Editions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-editionsimplementation-li><a href=/editions/implementation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-editionsimplementation><span>Implementing Editions Support</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-design-decisions-li><a href=/design-decisions/ title="Protobuf Team Design Decisions" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-design-decisions><span>Design Decisions</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-design-decisionsnullable-getters-setters-li><a href=/design-decisions/nullable-getters-setters/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-design-decisionsnullable-getters-setters><span>No Nullable Setters/Getters Support</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-best-practices-li><a href=/best-practices/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-best-practices><span>Proto Best Practices</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-best-practicesno-cargo-cults-li><a href=/best-practices/no-cargo-cults/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-best-practicesno-cargo-cults><span>Avoid Cargo Culting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-best-practicesdos-donts-li><a href=/best-practices/dos-donts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-best-practicesdos-donts><span>Proto Best Practices</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-best-practices1-1-1-li><a href=/best-practices/1-1-1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-best-practices1-1-1><span>1-1-1 Best Practice</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-getting-started-li><a href=/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-getting-started><span>Tutorials</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedcpptutorial-li><a href=/getting-started/cpptutorial/ title="Protocol Buffer Basics: C++" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedcpptutorial><span>C++</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedcsharptutorial-li><a href=/getting-started/csharptutorial/ title="Protocol Buffer Basics: C#" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedcsharptutorial><span>C#</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-starteddarttutorial-li><a href=/getting-started/darttutorial/ title="Protocol Buffer Basics: Dart" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-starteddarttutorial><span>Dart</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedgotutorial-li><a href=/getting-started/gotutorial/ title="Protocol Buffer Basics: Go" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedgotutorial><span>Go</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedjavatutorial-li><a href=/getting-started/javatutorial/ title="Protocol Buffer Basics: Java" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedjavatutorial><span>Java</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedkotlintutorial-li><a href=/getting-started/kotlintutorial/ title="Protocol Buffer Basics: Kotlin" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedkotlintutorial><span>Kotlin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedpythontutorial-li><a href=/getting-started/pythontutorial/ title="Protocol Buffer Basics: Python" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedpythontutorial><span>Python</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-reference-li><a href=/reference/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-reference><span>Reference Guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencecpp-li><a href=/reference/cpp/ title="C++ Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencecpp><span>C++</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencecppcpp-generated-li><a href=/reference/cpp/cpp-generated/ title="C++ Generated Code Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencecppcpp-generated><span>Generated Code Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencecppstring-view-li><a href=/reference/cpp/string-view/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencecppstring-view><span>String View APIs</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencecpparenas-li><a href=/reference/cpp/arenas/ title="C++ Arena Allocation Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencecpparenas><span>Arena Allocation Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencecppabseil-li><a href=/reference/cpp/abseil/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencecppabseil><span>Abseil Support</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencecppapi-docs-link-li><a href=/reference/cpp/api-docs/ target=_blank rel=noopener class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencecppapi-docs-link><span>C++ API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencecsharp-li><a href=/reference/csharp/ title="C# Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencecsharp><span>C#</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencecsharpcsharp-generated-li><a href=/reference/csharp/csharp-generated/ title="C# Generated Code Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencecsharpcsharp-generated><span>Generated Code Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencecsharpapi-docs-link-li><a href=/reference/csharp/api-docs target=_blank rel=noopener class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencecsharpapi-docs-link><span>C# API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencedart-li><a href=/reference/dart/ title="Dart Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencedart><span>Dart</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencedartdart-generated-li><a href=/reference/dart/dart-generated/ title="Dart Generated Code" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencedartdart-generated><span>Generated Code</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencedartapi-docs-link-li><a href=https://pub.dartlang.org/documentation/protobuf target=_blank rel=noopener class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencedartapi-docs-link><span>Dart API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencego-li><a href=/reference/go/ title="Go Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencego><span>Go</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencegogo-generated-li><a href=/reference/go/go-generated/ title="Go Generated Code Guide (Open)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencegogo-generated><span>Generated Code Guide (Open)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencegogo-generated-opaque-li><a href=/reference/go/go-generated-opaque/ title="Go Generated Code Guide (Opaque)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencegogo-generated-opaque><span>Generated Code Guide (Opaque)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencegofaq-li><a href=/reference/go/faq/ title="Go FAQ" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencegofaq><span>FAQ</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencegosize-li><a href=/reference/go/size/ title="Go Size Semantics" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencegosize><span>Size Semantics</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencegoapi-docs-link-li><a href=https://pkg.go.dev/google.golang.org/protobuf/proto target=_blank rel=noopener class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencegoapi-docs-link><span>Go API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencegoopaque-migration-li><a href=/reference/go/opaque-migration/ title="Go Opaque API Migration" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencegoopaque-migration><span>Opaque API Migration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencegoopaque-migration-manual-li><a href=/reference/go/opaque-migration-manual/ title="Go Opaque API: Manual Migration" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencegoopaque-migration-manual><span>Opaque API: Manual Migration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencegoopaque-faq-li><a href=/reference/go/opaque-faq/ title="Go Opaque API FAQ" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencegoopaque-faq><span>Opaque API FAQ</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencejava-li><a href=/reference/java/ title="Java Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencejava><span>Java</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencejavajava-generated-li><a href=/reference/java/java-generated/ title="Java Generated Code Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencejavajava-generated><span>Generated Code Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencejavajava-proto-names-li><a href=/reference/java/java-proto-names/ title="Java Proto Names" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencejavajava-proto-names><span>Generated Proto Names</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencejavaapi-docs-link-li><a href=/reference/java/api-docs/overview-summary.html target=_blank rel=noopener class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencejavaapi-docs-link><span>Java API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencekotlin-li><a href=/reference/kotlin/ title="Kotlin Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencekotlin><span>Kotlin</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencekotlinapi-docs-li><a href=/reference/kotlin/api-docs/ title="Kotlin Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencekotlinapi-docs><span>Kotlin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencekotlinkotlin-generated-li><a href=/reference/kotlin/kotlin-generated/ title="Kotlin Generated Code Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencekotlinkotlin-generated><span>Generated Code Guide</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-referenceobjective-c-li><a href=/reference/objective-c/ title="Objective-C Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referenceobjective-c><span>Objective-C</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-referenceobjective-cobjective-c-generated-li><a href=/reference/objective-c/objective-c-generated/ title="Objective-C Generated Code Guide" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-referenceobjective-cobjective-c-generated><span class=td-sidebar-nav-active-item>Generated Code Guide</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencephp-li><a href=/reference/php/ title="PHP Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencephp><span>PHP</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencephpphp-generated-li><a href=/reference/php/php-generated/ title="PHP Generated Code Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencephpphp-generated><span>Generated Code Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencephpapi-docs-link-li><a href=/reference/php/api-docs/ target=_blank rel=noopener class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencephpapi-docs-link><span>PHP API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencepython-li><a href=/reference/python/ title="Python Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencepython><span>Python</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencepythonpython-generated-li><a href=/reference/python/python-generated/ title="Python Generated Code Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencepythonpython-generated><span>Generated Code Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencepythonapi-docs-link-li><a href=https://googleapis.dev/python/protobuf/latest/ target=_blank rel=noopener class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencepythonapi-docs-link><span>Python API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referenceruby-li><a href=/reference/ruby/ title="Ruby Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referenceruby><span>Ruby</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencerubyruby-generated-li><a href=/reference/ruby/ruby-generated/ title="Ruby Generated Code Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencerubyruby-generated><span>Generated Code Guide</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencerust-li><a href=/reference/rust/ title="Rust Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencerust><span>Rust</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencerustrust-generated-li><a href=/reference/rust/rust-generated/ title="Rust Generated Code Guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencerustrust-generated><span>Generated Code Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencerustrust-redaction-li><a href=/reference/rust/rust-redaction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencerustrust-redaction><span>Redaction in Rust</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencerustbuilding-rust-protos-li><a href=/reference/rust/building-rust-protos/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencerustbuilding-rust-protos><span>Building Rust Protos</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencerustrust-design-decisions-li><a href=/reference/rust/rust-design-decisions/ title="Rust Proto Design Decisions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencerustrust-design-decisions><span>Design Decisions</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referenceprotobuf-li><a href=/reference/protobuf/ title="Protocol Buffers Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referenceprotobuf><span>Protocol Buffers</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceprotobufedition-2023-spec-li><a href=/reference/protobuf/edition-2023-spec/ title="Protocol Buffers Edition 2023 Language Specification" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceprotobufedition-2023-spec><span>2023 Language Specification</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceprotobufproto2-spec-li><a href=/reference/protobuf/proto2-spec/ title="Protocol Buffers Version 2 Language Specification" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceprotobufproto2-spec><span>Version 2 Language Specification</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceprotobufproto3-spec-li><a href=/reference/protobuf/proto3-spec/ title="Protocol Buffers Language Specification (Proto3)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceprotobufproto3-spec><span>Language Specification (Proto3)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceprotobuftextformat-spec-li><a href=/reference/protobuf/textformat-spec/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceprotobuftextformat-spec><span>Text Format Language Specification</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceprotobufmime-types-li><a href=/reference/protobuf/mime-types/ title="Protocol Buffer MIME Types" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceprotobufmime-types><span>MIME Types</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceprotobufgoogleprotobuf-li><a href=/reference/protobuf/google.protobuf/ title="Protocol Buffers Well-Known Types" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceprotobufgoogleprotobuf><span>Well-Known Types</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceother-li><a href=/reference/other/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceother><span>Other Languages</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-support-li><a href=/support/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-support><span>Support</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-supportversion-support-li><a href=/support/version-support/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-supportversion-support><span>Version Support</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-supportmigration-li><a href=/support/migration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-supportmigration><span>Migration Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-supportcross-version-runtime-guarantee-li><a href=/support/cross-version-runtime-guarantee/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-supportcross-version-runtime-guarantee><span>Cross-Version Runtime Guarantee</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-downloads-li><a href=/downloads/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-downloads><span>Downloads</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-history-li><a href=/history/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-history><span>History</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-forum-link-li><a href=https://groups.google.com/g/protobuf target=_blank rel=noopener class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-forum-link><span>Forum</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-navbar-li><a href=/navbar/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-navbar><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-search-li><a href=/search/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-search><span>Search Results</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/protocolbuffers/protocolbuffers.github.io/tree/main/content/reference/objective-c/objective-c-generated.md class=td-page-meta--view target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/protocolbuffers/protocolbuffers.github.io/edit/main/content/reference/objective-c/objective-c-generated.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/protocolbuffers/protocolbuffers.github.io/new/main/content/reference/objective-c/objective-c-generated.md?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/protocolbuffers/protocolbuffers.github.io/issues/new?title=Objective-C%20Generated%20Code%20Guide" class=td-page-meta--issue target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/protocolbuffers/protobuf/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#invocation>Compiler invocation</a></li><li><a href=#package>Packages</a></li><li><a href=#prefix>Class prefix</a></li><li><a href=#case>Camel case conversion</a></li><li><a href=#message>Messages</a><ul><li><a href=#gpbmessage-interface><code>GPBMessage</code> interface</a></li><li><a href=#unknown-fields>Unknown fields</a></li></ul></li><li><a href=#fields>Fields</a><ul><li><a href=#singular-implicit>Singular Fields with Implicit Presence</a></li><li><a href=#singular-explicit>Singular Fields with Explicit Presence</a></li><li><a href=#repeated>Repeated fields</a></li><li><a href=#oneof>Oneof fields</a></li><li><a href=#map-fields>Map Fields</a></li></ul></li><li><a href=#enum>Enumerations</a><ul><li><a href=#swift-enumeration-support>Swift Enumeration Support</a></li></ul></li><li><a href=#wellknown>Well-known types</a><ul><li><a href=#time-stamps>Time Stamps</a></li><li><a href=#duration>Duration</a></li></ul></li><li><a href=#extensions>Extensions (proto2 and editions only)</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/reference/>Reference Guides</a></li><li class=breadcrumb-item><a href=/reference/objective-c/>Objective-C</a></li><li class="breadcrumb-item active" aria-current=page>Generated Code Guide</li></ol></nav><div class=td-content><h1>Objective-C Generated Code Guide</h1><div class=lead>Describes exactly what Objective-C code the protocol buffer compiler generates for any given protocol definition.</div><header class=article-meta></header><p>Any
differences between proto2, proto3, and Editions generated code are highlighted.
You should read the
<a href=/programming-guides/proto2>proto2 language guide</a>
and/or
<a href=/programming-guides/proto3>proto3 language guide</a>
and/or the <a href=/programming-guides/editions>Editions guide</a>
before reading this document.</p><h2 id=invocation>Compiler invocation</h2><p>The protocol buffer compiler produces Objective-C output when invoked with the
<code>--objc_out=</code> command-line flag. The parameter to the <code>--objc_out=</code> option is
the directory where you want the compiler to write your Objective-C output. The
compiler creates a header file and an implementation file for each <code>.proto</code> file
input. The names of the output files are computed by taking the name of the
<code>.proto</code> file and making the following changes:</p><ul><li>The file name is determined by converting the <code>.proto</code> file base name to
camel case. For example, <code>foo_bar.proto</code> will become <code>FooBar</code>.</li><li>The extension (<code>.proto</code>) is replaced with either <code>pbobjc.h</code> or <code>pbobjc.m</code>
for the header or implementation file, respectively.</li><li>The proto path (specified with the <code>--proto_path=</code> or <code>-I</code> command-line
flag) is replaced with the output path (specified with the <code>--objc_out=</code>
flag).</li></ul><p>So, for example, if you invoke the compiler as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>protoc --proto_path<span style=color:#ce5c00;font-weight:700>=</span>src --objc_out<span style=color:#ce5c00;font-weight:700>=</span>build/gen src/foo.proto src/bar/baz.proto
</span></span></code></pre></div><p>The compiler will read the files <code>src/foo.proto</code> and <code>src/bar/baz.proto</code> and
produce four output files: <code>build/gen/Foo.pbobjc.h</code>, <code>build/gen/Foo.pbobjc.m</code>,
<code>build/gen/bar/Baz.pbobjc.h</code>, and <code>build/gen/bar/Baz.pbobjc.m</code>. The compiler
will automatically create the directory <code>build/gen/bar</code> if necessary, but it
will <em>not</em> create <code>build</code> or <code>build/gen</code>; they must already exist.</p><h2 id=package>Packages</h2><p>The Objective-C code generated by the protocol buffer compiler is completely
unaffected by the package name defined in the <code>.proto</code> file, as Objective-C has
no language-enforced namespacing. Instead, Objective-C class names are
distinguished using prefixes, which you can find out about in the next section.</p><h2 id=prefix>Class prefix</h2><p>Given the following
<a href=/programming-guides/proto3#options>file option</a>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>option</span> <span style=color:#000>objc_class_prefix</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;CGOOP&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The specified string - in this case, <code>CGOOP</code> - is prefixed in front of all
Objective-C classes generated for this <code>.proto</code> file. Use prefixes that are 3 or
more characters as recommended by Apple. Note that all 2 letter prefixes are
reserved by Apple.</p><h2 id=case>Camel case conversion</h2><p>Idiomatic Objective-C uses camel case for all identifiers.</p><p>Messages will not have their names converted because the standard for proto
files is to name messages in camel case already. It is assumed that the user has
bypassed the convention for good reason, and the implementation will conform
with their intentions.</p><p>Methods generated from field names and <code>oneof</code>s, <code>enum</code> declarations, and
extension accessors will have their names camel cased. In general to convert
from a proto name to a camel cased Objective-C name:</p><ul><li>The first letter converted to uppercase (except for fields, which always
start with a lowercase letter).</li><li>For each underscore in the name, the underscore is removed, and the
following letter is capitalized.</li></ul><p>So, for example, the field <code>foo_bar_baz</code> becomes <code>fooBarBaz</code>. The field
<code>FOO_bar</code> becomes <code>fooBar</code>.</p><h2 id=message>Messages</h2><p>Given a simple message declaration:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The protocol buffer compiler generates a class called <code>Foo</code>. If you specify an
<a href=#prefix><code>objc_class_prefix</code> file option</a>, the value of this option is
prepended to the generated class name.</p><p>In the case of outer messages that have names matching any C/C++ or Objective-C
keywords:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>static</span> <span style=color:#000;font-weight:700>{}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>the generated interfaces are suffixed by <code>_Class</code>, as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>static_Class</span> <span style=color:#000;font-weight:700>{}</span>
</span></span></code></pre></div><p>Note that as per the <a href=#case>camel case conversion rules</a> the name <code>static</code> is
<em>not</em> converted. In the case of an inner message that has a camel cased name
that is <code>FieldNumber</code> or <code>OneOfCase</code>, the generated interface will be the camel
cased name suffixed by <code>_Class</code> to make sure that the generated names do not
conflict with the <code>FieldNumber</code> enumerations or <code>OneOfCase</code> enumerations.</p><p>A message can also be declared inside another message.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>This generates:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo_Bar</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><p>As you can see, the generated nested message name is the name of the generated
containing message name (<code>Foo</code>) appended with underscore (<code>_</code>) and the nested
message name (<code>Bar</code>).</p><blockquote><p><strong>Note:</strong> While we have tried to ensure that conflicts are kept to a minimum,
there are still potential cases where message names may conflict due to the
conversion between underscores and camel case. As an example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>foo_bar</span> <span style=color:#000;font-weight:700>{}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>foo</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>bar</span> <span style=color:#000;font-weight:700>{}</span> <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>will both generate <code>@interface foo_bar</code> and will conflict. The most pragmatic
solution may be to rename the conflicting messages.</p></blockquote><h3 id=gpbmessage-interface><code>GPBMessage</code> interface</h3><p><code>GPBMessage</code> is the superclass of all generated message classes. It is required
to support a superset of the following interface:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>GPBMessage</span> : <span style=color:#000>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><p>The behaviors for this interface are as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Will do a deep copy.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>id</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>copy</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Will perform a deep equality comparison.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>BOOL</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>isEqual:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>id</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><h3 id=unknown-fields>Unknown fields</h3><p>When a message is parsed, it may contain fields that are not known to the
parsing code. This can happen when a message is created with an
<a href=/programming-guides/proto2#updating>older version</a> of a
.proto definition and is then parsed with code generated from a newer version
(or vice versa).</p><p>These fields are not discarded and are stored in the message&rsquo;s <code>unknownFields</code>
property:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>copy</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>nullable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>GPBUnknownFieldSet</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>unknownFields</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>You can use the <code>GPBUnknownFieldSet</code> interface to fetch these fields by number
or loop over them as an array.</p><h2 id=fields>Fields</h2><p>The following sections describe the code generated by the protocol buffer
compiler for message fields. They are divided by those with implicit and
explicit presence. You can learn more about this distinction in
<a href=/programming-guides/field_presence>Field Presence</a>.</p><p><a id=singular3></a></p><h3 id=singular-implicit>Singular Fields with Implicit Presence</h3><p>For every singular field the compiler generates a property to store data and an
integer constant containing the field number. Message type fields also get a
<code>has..</code> property that lets you check if the field is set in the encoded message.
So, for example, given the following message:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>int32_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>Qux</span> <span style=color:#000;font-weight:700>{</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>int32_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>string_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>Bar</span> <span style=color:#000>message_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>Qux</span> <span style=color:#000>enum_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>bytes</span> <span style=color:#000>bytes_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler will generate the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_Bar_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// The generated field number name is the enclosing message names delimited by
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// underscores followed by &#34;FieldNumber&#34;, followed by the field name
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// camel cased.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_Bar_FieldNumber_Int32Value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo_Bar</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>int32Value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_Int32Value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_StringValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_MessageValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_EnumValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_BytesValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_Qux</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_Qux_GPBUnrecognizedEnumeratorValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>kGPBUnrecognizedEnumeratorValue</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>...</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Field names are camel cased.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>int32Value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>copy</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSString</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stringValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>hasMessageValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>Foo_Bar</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>messageValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>Foo_Qux</span> <span style=color:#000>enumValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>copy</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSData</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>bytesValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><h4 id=special-naming-cases>Special naming cases</h4><p>There are cases where the field name generation rules may result in name
conflicts and names will need to be "uniqued". Such conflicts are resolved by
appending <code>_p</code> to the end of the field (<code>_p</code> was selected because it&rsquo;s pretty
unique, and stands for "property").</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo_array</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span>      <span style=color:#8f5902;font-style:italic>// Ends with Array
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>bar_OneOfCase</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span>  <span style=color:#8f5902;font-style:italic>// Ends with oneofcase
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span>             <span style=color:#8f5902;font-style:italic>// Is a C/C++/Objective-C keyword
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>generates:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// If a non-repeatable field name ends with &#34;Array&#34; it will be suffixed
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// with &#34;_p&#34; to keep the name distinct from repeated types.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_FieldNumber_FooArray_p</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// If a field name ends with &#34;OneOfCase&#34; it will be suffixed with &#34;_p&#34; to
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// keep the name distinct from OneOfCase properties.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_FieldNumber_BarOneOfCase_p</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// If a field name is a C/C++/ObjectiveC keyword it will be suffixed with
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// &#34;_p&#34; to allow it to compile.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_FieldNumber_Id_p</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>fooArray_p</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>barOneOfCase_p</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>id_p</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><h4 id=default>Default values</h4><p>The <a href=/programming-guides/proto3#default>default value</a>
for numeric types is <code>0</code>.</p><p>The default value for strings is <code>@""</code>, and the default value for bytes is
<code>[NSData data]</code>.</p><p>Assigning <code>nil</code> to a string field will assert in debug, and set the field to
<code>@""</code> in release. Assigning <code>nil</code> to a bytes field will assert in debug and set
the field to <code>[NSData data]</code> in release. To test whether a bytes or string field
is set requires testing its length property and comparing it to 0.</p><p>The default "empty" value for a message is an instance of the default message.
To clear a message value it should be set to <code>nil</code>. Accessing a cleared message
will return an instance of the default message and the <code>hasFoo</code> method will
return false.</p><p>The default message returned for a field is a local instance. The reason behind
returning a default message instead of <code>nil</code> is that in the case of:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>     <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>b</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>Bar</span> <span style=color:#000>a</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The implementation will support:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[[</span><span style=color:#000>Foo</span> <span style=color:#000>alloc</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000>init</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>a</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>b</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>where <code>a</code> will be automatically created via the accessors if necessary. If
<code>foo.a</code> returned <code>nil</code>, the <code>foo.a.b</code> setter pattern would not work.</p><p><a id=singular2></a></p><h3 id=singular-explicit>Singular Fields with Explicit Presence</h3><p>For every singular field the compiler generates a property to store data, an
integer constant containing the field number, and a <code>has..</code> property that lets
you check if the field is set in the encoded message. So, for example, given the
following message:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>int32_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>Qux</span> <span style=color:#000;font-weight:700>{</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>int32_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>string_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#000>Bar</span> <span style=color:#000>message_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#000>Qux</span> <span style=color:#000>enum_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>bytes</span> <span style=color:#000>bytes_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler will generate the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Enum Foo_Qux
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_Qux</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_Qux_Flupple</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>GPBEnumDescriptor</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Foo_Qux_EnumDescriptor</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>Foo_Qux_IsValidValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Message Foo
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_Int32Value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_MessageValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_EnumValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_BytesValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_StringValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>hasInt32Value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>int32Value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>hasStringValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>copy</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSString</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stringValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>hasMessageValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>Foo_Bar</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>messageValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>hasEnumValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>Foo_Qux</span> <span style=color:#000>enumValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>hasBytesValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>copy</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSData</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>bytesValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Message Foo_Bar
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_Bar_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_Bar_FieldNumber_Int32Value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo_Bar</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>hasInt32Value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>int32Value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><h4 id=special-naming-cases-1>Special naming cases</h4><p>There are cases where the field name generation rules may result in name
conflicts and names will need to be "uniqued". Such conflicts are resolved by
appending <code>_p</code> to the end of the field (<code>_p</code> was selected because it&rsquo;s pretty
unique, and stands for "property").</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo_array</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span>      <span style=color:#8f5902;font-style:italic>// Ends with Array
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>bar_OneOfCase</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span>  <span style=color:#8f5902;font-style:italic>// Ends with oneofcase
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span>             <span style=color:#8f5902;font-style:italic>// Is a C/C++/Objective-C keyword
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>generates:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// If a non-repeatable field name ends with &#34;Array&#34; it will be suffixed
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// with &#34;_p&#34; to keep the name distinct from repeated types.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_FieldNumber_FooArray_p</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// If a field name ends with &#34;OneOfCase&#34; it will be suffixed with &#34;_p&#34; to
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// keep the name distinct from OneOfCase properties.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_FieldNumber_BarOneOfCase_p</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// If a field name is a C/C++/ObjectiveC keyword it will be suffixed with
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// &#34;_p&#34; to allow it to compile.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_FieldNumber_Id_p</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>fooArray_p</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>barOneOfCase_p</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>id_p</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><h4 id=default>Default values (optional fields only)</h4><p>The <a href=/programming-guides/proto2#optional>default value</a>
for numeric types, if no explicit default was specified by the user, is <code>0</code>.</p><p>The default value for strings is <code>@""</code>, and the default value for bytes is
<code>[NSData data]</code>.</p><p>Assigning <code>nil</code> to a string field will assert in debug, and set the field to
<code>@""</code> in release. Assigning <code>nil</code> to a bytes field will assert in debug and set
the field to <code>[NSData data]</code> in release. To test whether a bytes or string field
is set requires testing its length property and comparing it to 0.</p><p>The default "empty" value for a message is an instance of the default message.
To clear a message value it should be set to <code>nil</code>. Accessing a cleared message
will return an instance of the default message and the <code>hasFoo</code> method will
return false.</p><p>The default message returned for a field is a local instance. The reason behind
returning a default message instead of <code>nil</code> is that in the case of:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>     <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>b</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>Bar</span> <span style=color:#000>a</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The implementation will support:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[[</span><span style=color:#000>Foo</span> <span style=color:#000>alloc</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000>init</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>a</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>b</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>where <code>a</code> will be automatically created via the accessors if necessary. If
<code>foo.a</code> returned <code>nil</code>, the <code>foo.a.b</code> setter pattern would not work.</p><h3 id=repeated>Repeated fields</h3><p>Like singular fields (<a href=#singular2>proto2</a> <a href=#singular3>proto3</a>), the protocol
buffer compiler generates one data property for each repeated field. This data
property is a <code>GPB&lt;VALUE>Array</code> depending on the field type where <code>&lt;VALUE></code> can
be one of <code>UInt32</code>, <code>Int32</code>, <code>UInt64</code>, <code>Int64</code>, <code>Bool</code>, <code>Float</code>, <code>Double</code>, or
<code>Enum</code>. <code>NSMutableArray</code> will be used for <code>string</code>, <code>bytes</code> and <code>message</code> types.
Field names for repeated types have <code>Array</code> appended to them. The reason for
appending <code>Array</code> in the Objective-C interface is to make the code more
readable. Repeated fields in proto files tend to have singular names which do
not read well in standard Objective-C usage. Making the singular names plural
would be more idiomatic Objective-C, however pluralization rules are too complex
to support in the compiler.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>Qux</span> <span style=color:#000;font-weight:700>{}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>int32_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>string_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#000>Bar</span> <span style=color:#000>message_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#000>Qux</span> <span style=color:#000>enum_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>generates:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_Int32ValueArray</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_StringValueArray</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_MessageValueArray</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_EnumValueArray</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Field names for repeated types are the camel case name with
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// &#34;Array&#34; suffixed.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span> <span style=color:#000>GPBInt32Array</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>int32ValueArray</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>int32ValueArray_Count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span> <span style=color:#000>NSMutableArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stringValueArray</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>stringValueArray_Count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span> <span style=color:#000>NSMutableArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>messageValueArray</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>messageValueArray_Count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span> <span style=color:#000>GPBEnumArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>enumValueArray</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>enumValueArray_Count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><p><strong>Note:</strong> The behavior of repeated fields can be configured in Editions with the
<a href=/editions/features#repeated_field_encoding><code>features.repeated_field_encoding</code> feature</a>.</p><p>For string, bytes and message fields, elements of the array are <code>NSString*</code>,
<code>NSData*</code> and pointers to subclasses of <code>GPBMessage</code> respectively.</p><h4 id=repeateddefault>Default values</h4><p>The <a href=/programming-guides/proto3#default>default value</a>
for a repeated field is to be empty. In Objective-C generated code, this is an
empty <code>GPB&lt;VALUE>Array</code>. If you access an empty repeated field, you&rsquo;ll get back
an empty array that you can update like any other repeated field array.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>myFoo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[[</span><span style=color:#000>Foo</span> <span style=color:#000>alloc</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000>init</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>myFoo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>stringValueArray</span> <span style=color:#f57900>addObject</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>@&#34;A string&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span></code></pre></div><p>You can also use the provided <code>&lt;field>Array_Count</code> property to check if the
array for a particular repeated field is empty without having to create the
array:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>myFoo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>messageValueArray_Count</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// There is something in the array...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=gpbvaluearray-interface><code>GPB&lt;VALUE>Array</code> interface</h4><p><code>GPB&lt;VALUE>Array</code>s (aside from <code>GPBEnumArray</code>, which we&rsquo;ll look at below) have
the following interface:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>GPBArray</span> : <span style=color:#000>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>arrayWithValue:</span><span style=color:#000;font-weight:700>()</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>arrayWithValueArray:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>arrayWithCapacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Initializes the array, copying the values.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValueArray:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValues:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span>  <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span>                         <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span> <span style=color:#000>NS_DESIGNATED_INITIALIZER</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithCapacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>()</span><span style=color:#000>valueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>index</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateValuesWithBlock:</span>
</span></span><span style=display:flex><span>     <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>idx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateValuesWithOptions:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSEnumerationOptions</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>opts</span>
</span></span><span style=display:flex><span>    <span style=color:#000>usingBlock:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>idx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addValue:</span><span style=color:#000;font-weight:700>()</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addValues:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span>  <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span> <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addValuesFromArray:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeAll</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>exchangeValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>idx1</span>
</span></span><span style=display:flex><span>            <span style=color:#000>withValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>idx2</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>insertValue:</span><span style=color:#000;font-weight:700>()</span><span style=color:#000>value</span> <span style=color:#000>atIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>replaceValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>index</span> <span style=color:#000>withValue:</span><span style=color:#000;font-weight:700>()</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><p><code>GPBEnumArray</code> has a slightly different interface to handle the validation
function and to access raw values.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>GPBEnumArray</span> : <span style=color:#000>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>GPBEnumValidationFunc</span> <span style=color:#000>validationFunc</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>arrayWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>arrayWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>                                   <span style=color:#000>rawValue:</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>arrayWithValueArray:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBEnumArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>arrayWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>                                   <span style=color:#000>capacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValidationFunction:</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Initializes the array, copying the values.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValueArray:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBEnumArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>    <span style=color:#000>values:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>int32_t</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span>    <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span> <span style=color:#000>NS_DESIGNATED_INITIALIZER</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>                                  <span style=color:#000>capacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// These will return kGPBUnrecognizedEnumeratorValue if the value at index
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// is not a valid enumerator as defined by validationFunc. If the actual
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// value is desired, use the &#34;raw&#34; version of the method.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>valueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>index</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateValuesWithBlock:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span><span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>idx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateValuesWithOptions:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSEnumerationOptions</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>opts</span>
</span></span><span style=display:flex><span>    <span style=color:#000>usingBlock:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span><span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>idx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// These methods bypass the validationFunc to provide access to values
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// that were not known at the time the binary was compiled.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>rawValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>index</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateRawValuesWithBlock:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span><span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>idx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateRawValuesWithOptions:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSEnumerationOptions</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>opts</span>
</span></span><span style=display:flex><span>    <span style=color:#000>usingBlock:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span><span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>idx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// If value is not a valid enumerator as defined by validationFunc, these
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// methods will assert in debug, and will log in release and assign the value
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// to the default value. Use the rawValue methods below to assign
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// non enumerator values.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addValues:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>int32_t</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span> <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>insertValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span> <span style=color:#000>atIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>replaceValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>index</span> <span style=color:#000>withValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// These methods bypass the validationFunc to provide setting of values that
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// were not known at the time the binary was compiled.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addRawValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>rawValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addRawValuesFromEnumArray:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBEnumArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>array</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addRawValues:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>int32_t</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span> <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>replaceValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>index</span> <span style=color:#000>withRawValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>rawValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>insertRawValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span> <span style=color:#000>atIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// No validation applies to these methods.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeAll</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>exchangeValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>idx1</span>
</span></span><span style=display:flex><span>            <span style=color:#000>withValueAtIndex:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>idx2</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><h3 id=oneof>Oneof fields</h3><p>Given a message with
<a href=/programming-guides/proto3#oneof>oneof</a> field
definitions:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Order</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>oneof</span> <span style=color:#000>OrderID</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>address</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>};</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>quantity</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>};</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The protocol buffer compiler generates:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Order_OrderID_OneOfCase</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Order_OrderID_OneOfCase_GPBUnsetOneOfCase</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Order_OrderID_OneOfCase_Name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Order_OrderID_OneOfCase_Address</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Order_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Order_FieldNumber_Name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Order_FieldNumber_Address</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Order_FieldNumber_Quantity</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Order</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>Order_OrderID_OneOfCase</span> <span style=color:#000>orderIDOneOfCase</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>copy</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSString</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>name</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>address</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>int32_t</span> <span style=color:#000>quantity</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>Order_ClearOrderIDOneOfCase</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Order</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><p>Setting one of the oneof properties will clear all the other properties
associated with the oneof.</p><p><code>&lt;ONE_OF_NAME>_OneOfCase_GPBUnsetOneOfCase</code> will always be equivalent to 0 to
allow for easy testing to see if any field in the oneof is set.</p><h3 id=map-fields>Map Fields</h3><p>For this message definition:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>map</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>int32</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>a_map</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>map</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>Bar</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>b_map</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>};</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler generates the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_FieldNumber</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_AMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_FieldNumber_BMap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Map names are the camel case version of the field name.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>GPBInt32ObjectDictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>aMap</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>aMap_Count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSMutableDictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>bMap</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>bMap_Count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><p>Cases where keys are strings and values are strings, bytes, or messages are
handled by <code>NSMutableDictionary</code>.</p><p>Other cases are:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#000>GBP</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;&lt;</span><span style=color:#000>VALUE</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>Dictionary</span>
</span></span></code></pre></div><p>where:</p><ul><li><code>&lt;KEY></code> is Uint32, Int32, UInt64, Int64, Bool or String.</li><li><code>&lt;VALUE></code> is UInt32, Int32, UInt64, Int64, Bool, Float, Double, Enum, or
Object. <code>Object</code> is used for values of type <code>string</code> <code>bytes</code> or <code>message</code> to
cut down on the number of classes and is in line with how Objective-C works
with <code>NSMutableDictionary</code>.</li></ul><h4 id=repeateddefault>Default values</h4><p>The <a href=/programming-guides/proto3#default>default value</a>
for a map field is empty. In Objective-C generated code, this is an empty
<code>GBP&lt;KEY>&lt;VALUE>Dictionary</code>. If you access an empty map field, you&rsquo;ll get back
an empty dictionary that you can update like any other map field.</p><p>You can also use the provided <code>&lt;mapField>_Count</code> property to check if a
particular map is empty:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>myFoo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>myMap_Count</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// There is something in the map...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=gbpkeyvaluedictionary-interface><code>GBP&lt;KEY>&lt;VALUE>Dictionary</code> interface</h4><p>The <code>GBP&lt;KEY>&lt;VALUE>Dictionary</code> (apart from <code>GBP&lt;KEY>ObjectDictionary</code> and
<code>GBP&lt;KEY>EnumDictionary</code>) interface is as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f57900>Dictionary</span> <span style=color:#000;font-weight:700>:</span> <span style=color:#000>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span>
</span></span><span style=display:flex><span>                             <span style=color:#000>forKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithValues:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span>  <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span>                             <span style=color:#000>forKeys:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>keys</span>
</span></span><span style=display:flex><span>                               <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>Dictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithCapacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>numItems</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValues:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span>  <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span>                       <span style=color:#000>forKeys:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>keys</span>
</span></span><span style=display:flex><span>                         <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span> <span style=color:#000>NS_DESIGNATED_INITIALIZER</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>Dictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithCapacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>numItems</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>BOOL</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>valueForKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span> <span style=color:#000>value:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>VALUE</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateKeysAndValuesUsingBlock:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span>  <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeValueForKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>aKey</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeAll</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>setValue:</span><span style=color:#000;font-weight:700>()</span><span style=color:#000>value</span> <span style=color:#000>forKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addEntriesFromDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>Dictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>otherDictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><p>The <code>GBP&lt;KEY>ObjectDictionary</code> interface is:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f57900>ObjectDictionary</span> <span style=color:#000;font-weight:700>:</span> <span style=color:#000>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithObject:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>id</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>object</span>
</span></span><span style=display:flex><span>                             <span style=color:#000>forKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#000>dictionaryWithObjects:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#204a87;font-weight:700>id</span> <span style=color:#000>GPB_UNSAFE_UNRETAINED</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>objects</span>
</span></span><span style=display:flex><span>                <span style=color:#000>forKeys:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>keys</span>
</span></span><span style=display:flex><span>                  <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>ObjectDictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithCapacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>numItems</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithObjects:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#204a87;font-weight:700>id</span> <span style=color:#000>GPB_UNSAFE_UNRETAINED</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>objects</span>
</span></span><span style=display:flex><span>                        <span style=color:#000>forKeys:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>keys</span>
</span></span><span style=display:flex><span>                          <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span> <span style=color:#000>NS_DESIGNATED_INITIALIZER</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>ObjectDictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithCapacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>numItems</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>id</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>objectForKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>uint32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateKeysAndObjectsUsingBlock:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>id</span> <span style=color:#000>object</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeObjectForKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>aKey</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeAll</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>setObject:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>id</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>object</span> <span style=color:#000>forKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addEntriesFromDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>ObjectDictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>otherDictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><p><code>GBP&lt;KEY>EnumDictionary</code> has a slightly different interface to handle the
validation function and to access raw values.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f57900>EnumDictionary</span> <span style=color:#000;font-weight:700>:</span> <span style=color:#000>NSObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSUInteger</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readonly</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>GPBEnumValidationFunc</span> <span style=color:#000>validationFunc</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>                                        <span style=color:#000>rawValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>rawValue</span>
</span></span><span style=display:flex><span>                                          <span style=color:#000>forKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>                                       <span style=color:#000>rawValues:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>int32_t</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span>                                         <span style=color:#000>forKeys:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>keys</span>
</span></span><span style=display:flex><span>                                           <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>EnumDictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionaryWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>                                        <span style=color:#000>capacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>numItems</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>                                 <span style=color:#000>rawValues:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>int32_t</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span>                                   <span style=color:#000>forKeys:</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span> <span style=color:#000;font-weight:700>[])</span><span style=color:#000>keys</span>
</span></span><span style=display:flex><span>                                     <span style=color:#000>count:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>count</span> <span style=color:#000>NS_DESIGNATED_INITIALIZER</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>EnumDictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>dictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithValidationFunction:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>GPBEnumValidationFunc</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>func</span>
</span></span><span style=display:flex><span>                                  <span style=color:#000>capacity:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSUInteger</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>numItems</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// These will return kGPBUnrecognizedEnumeratorValue if the value for the key
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// is not a valid enumerator as defined by validationFunc. If the actual value is
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// desired, use &#34;raw&#34; version of the method.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>BOOL</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>valueForKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span> <span style=color:#000>value:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>int32_t</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateKeysAndValuesUsingBlock:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// These methods bypass the validationFunc to provide access to values that were not
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// known at the time the binary was compiled.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>BOOL</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>valueForKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span> <span style=color:#000>rawValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nullable</span> <span style=color:#000>int32_t</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>rawValue</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>enumerateKeysAndRawValuesUsingBlock:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>^</span><span style=color:#000;font-weight:700>)(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>int32_t</span> <span style=color:#000>rawValue</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stop</span><span style=color:#000;font-weight:700>))</span><span style=color:#000>block</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>addRawEntriesFromDictionary:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>GPB</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>EnumDictionary</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>otherDictionary</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// If value is not a valid enumerator as defined by validationFunc, these
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// methods will assert in debug, and will log in release and assign the value
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// to the default value. Use the rawValue methods below to assign non enumerator
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// values.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>setValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>value</span> <span style=color:#000>forKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// This method bypass the validationFunc to provide setting of values that were not
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// known at the time the binary was compiled.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>setRawValue:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>rawValue</span> <span style=color:#000>forKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// No validation applies to these methods.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeValueForKey:</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>KEY</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000>_t</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>aKey</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>void</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>removeAll</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><h2 id=enum>Enumerations</h2><p>Given an enum definition like:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>VALUE_A</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>VALUE_B</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>VALUE_C</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>the generated code will be:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// The generated enum value name will be the enumeration name followed by
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// an underscore and then the enumerator name converted to camel case.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// GPB_ENUM is a macro defined in the Objective-C Protocol Buffer headers
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// that enforces all enum values to be int32 and aids in Swift Enumeration
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// support.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_GPBUnrecognizedEnumeratorValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>kGPBUnrecognizedEnumeratorValue</span><span style=color:#000;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>//proto3 only
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_ValueA</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_ValueB</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_ValueC</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Returns information about what values this enum type defines.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>GPBEnumDescriptor</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Foo_EnumDescriptor</span><span style=color:#000;font-weight:700>();</span>
</span></span></code></pre></div><p>Each enumeration has a validation function declared for it:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Returns YES if the given numeric value matches one of Foo&#39;s
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// defined values (0, 1, 5).
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>Foo_IsValidValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><p>and an enumeration descriptor accessor function declared for it:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// GPBEnumDescriptor is defined in the runtime and contains information
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// about the enum definition, such as the enum name, enum value and enum value
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// validation function.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPBEnumDescriptor</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>GPBEnumDescriptorAccessorFunc</span><span style=color:#000;font-weight:700>)();</span>
</span></span></code></pre></div><p>The enum descriptor accessor functions are C functions, as opposed to methods on
the enumeration class, because they are rarely used by client software. This
will cut down on the amount of Objective-C runtime information generated, and
potentially allow the linker to deadstrip them.</p><p>In the case of outer enums that have names matching any C/C++ or Objective-C
keywords, such as:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>method</span> <span style=color:#000;font-weight:700>{}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>the generated interfaces are suffixed with <code>_Enum</code>, as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// The generated enumeration name is the keyword suffixed by _Enum.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Method_Enum</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{}</span>
</span></span></code></pre></div><p>An enum can also be declared inside another message. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#000>VALUE_A</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#000>VALUE_B</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#000>VALUE_C</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>Bar</span> <span style=color:#000>aBar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>Bar</span> <span style=color:#000>aDifferentBar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#000>Bar</span> <span style=color:#000>aRepeatedBar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>generates:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo_Bar</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_Bar_GPBUnrecognizedEnumeratorValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>kGPBUnrecognizedEnumeratorValue</span><span style=color:#000;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>//proto3 only
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Foo_Bar_ValueA</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_Bar_ValueB</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_Bar_ValueC</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>GPBEnumDescriptor</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Foo_Bar_EnumDescriptor</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>BOOL</span> <span style=color:#000>Foo_Bar_IsValidValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>Foo_Bar</span> <span style=color:#000>aBar</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>Foo_Bar</span> <span style=color:#000>aDifferentBar</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>null_resettable</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span> <span style=color:#000>GPBEnumArray</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>aRepeatedBarArray</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// proto3 only Every message that has an enum field will have an accessor function to get
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// the value of that enum as an integer. This allows clients to deal with
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// raw values if they need to.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>int32_t</span> <span style=color:#000>Foo_ABar_RawValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>SetFoo_ABar_RawValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#000>int32_t</span> <span style=color:#000>Foo_ADifferentBar_RawValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>SetFoo_ADifferentBar_RawValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>int32_t</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>);</span>
</span></span></code></pre></div><p>All enumeration fields have the ability to access the value as a typed
enumerator (<code>Foo_Bar</code> in the example above), or, if using proto3, as a raw
<code>int32_t</code> value (using the accessor functions in the example above). This is to
support the case where the server returns values that the client may not
recognize due to the client and server being compiled with different versions of
the proto file.</p><p>Unrecognized enum values are treated differently depending on the language
version and the <code>features.enum_type</code> feature in Editions.</p><ul><li>In open enums, <code>kGPBUnrecognizedEnumeratorValue</code> is returned for the typed
enumerator value if the enumerator value in the parsed message data is not
one that the code reading it was compiled to support. If the actual value is
desired, use the raw value accessors to get the value as an <code>int32_t</code>.</li><li>In closed enums, unrecognized enum values are treated as unknown fields.</li><li>Proto2 enums are closed, and proto3 enums are open. In Editions, the
behavior is configurable with the <code>features.enum_type</code> feature.</li></ul><p><code>kGPBUnrecognizedEnumeratorValue</code> is defined as <code>0xFBADBEEF</code>, and it will be an
error if any enumerator in an enumeration has this value. Attempting to set any
enumeration field to this value is a runtime error. Similarly, attempting to set
any enumeration field to an enumerator not defined by its enumeration type using
the typed accessors is a runtime error. In both error cases, debug builds will
cause an assertion and release builds will log and set the field to its default
value (<code>0</code>).</p><p>The raw value accessors are defined as C functions instead of as Objective-C
methods because they are not used in most cases. Declaring them as C functions
cuts down on wasted Objective-C runtime information and allows the linker to
potentially dead strip them.</p><h3 id=swift-enumeration-support>Swift Enumeration Support</h3><p>Apple documents how they import Objective-C enumerations to Swift enumerations
in
<a href=https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-XID_11>Interacting with C APIs</a>.
Protocol buffer-generated enumerations support Objective-C to Swift conversions.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Proto
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>enum</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>VALUE_A</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>generates:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Objective-C
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>typedef</span> <span style=color:#000>GPB_ENUM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Foo</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_GPBUnrecognizedEnumeratorValue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>kGPBUnrecognizedEnumeratorValue</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Foo_ValueA</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>};</span>
</span></span></code></pre></div><p>which in Swift code will allow:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Swift</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>aValue</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Foo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ValueA</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>anotherValue</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>.</span><span style=color:#000>GPBUnrecognizedEnumeratorValue</span>
</span></span></code></pre></div><h2 id=wellknown>Well-known types</h2><p>If you use any of the message types provided with protocol buffers, they will in
general just use their proto definitions in generated Objective-C code, though
we supply some basic conversion methods in categories to make using them
simpler. Note that we do not have special APIs for all well-known types yet,
including <a href=/programming-guides/proto3#any><code>Any</code></a> (there
is currently no helper method to convert an <code>Any</code>&rsquo;s message value into a message
of the appropriate type).</p><h3 id=time-stamps>Time Stamps</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>GPBTimeStamp</span> <span style=color:#f57900>(GPBWellKnownTypes)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>strong</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSDate</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>date</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSTimeInterval</span> <span style=color:#000>timeIntervalSince1970</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithDate:</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NSDate</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>date</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithTimeIntervalSince1970:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>(</span><span style=color:#000>NSTimeInterval</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>timeIntervalSince1970</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><h3 id=duration>Duration</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>GPBDuration</span> <span style=color:#f57900>(GPBWellKnownTypes)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@property</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>nonatomic</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>readwrite</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>NSTimeInterval</span> <span style=color:#000>timeIntervalSince1970</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>-</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>instancetype</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>initWithTimeIntervalSince1970:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>(</span><span style=color:#000>NSTimeInterval</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>timeIntervalSince1970</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><h2 id=extensions>Extensions (proto2 and editions only)</h2><p>Given a message with an
<a href=/programming-guides/proto2#extensions>extension range</a>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>extensions</span> <span style=color:#0000cf;font-weight:700>100</span> <span style=color:#204a87;font-weight:700>to</span> <span style=color:#0000cf;font-weight:700>199</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>extend</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>101</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>repeated_foo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>102</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>Bar</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>extend</span> <span style=color:#000>Foo</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>bar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>103</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>repeated_bar</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>104</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>The compiler generates the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#8f5902;font-style:italic># File Test2Root
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Test2Root</span> : <span style=color:#000>GPBRootObject</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// The base class provides:
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//   + (GPBExtensionRegistry *)extensionRegistry;
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// which is an GPBExtensionRegistry that includes all the extensions defined by
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// this file and all files that it depends on.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Test2Root</span> <span style=color:#f57900>(DynamicMethods)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBExtensionDescriptor</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBExtensionDescriptor</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>repeatedFoo</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Message Foo
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Foo</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Message Bar
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Bar</span> : <span style=color:#000>GPBMessage</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@interface</span> <span style=color:#000>Bar</span> <span style=color:#f57900>(DynamicMethods)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBExtensionDescriptor</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>bar</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>+</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>GPBExtensionDescriptor</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#000>repeatedBar</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>@end</span>
</span></span></code></pre></div><p>To get and set these extension fields, you use the following:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#000>Foo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>fooMsg</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[[</span><span style=color:#000>Foo</span> <span style=color:#000>alloc</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000>init</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Set the single field extensions
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>setExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>]</span> <span style=color:#f57900>value</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>@5</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span><span style=color:#000>NSAssert</span><span style=color:#000;font-weight:700>([</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>hasExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>]]);</span>
</span></span><span style=display:flex><span><span style=color:#000>NSAssert</span><span style=color:#000;font-weight:700>([[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>getExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>]]</span> <span style=color:#000>intValue</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Add two things to the repeated extension:
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>addExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>repeatedFoo</span><span style=color:#000;font-weight:700>]</span> <span style=color:#f57900>value</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>@1</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>addExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>repeatedFoo</span><span style=color:#000;font-weight:700>]</span> <span style=color:#f57900>value</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>@2</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span><span style=color:#000>NSAssert</span><span style=color:#000;font-weight:700>([</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>hasExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>repeatedFoo</span><span style=color:#000;font-weight:700>]]);</span>
</span></span><span style=display:flex><span><span style=color:#000>NSAssert</span><span style=color:#000;font-weight:700>([[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>getExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>repeatedFoo</span><span style=color:#000;font-weight:700>]]</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Clearing
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>clearExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>]];</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>clearExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>repeatedFoo</span><span style=color:#000;font-weight:700>]];</span>
</span></span><span style=display:flex><span><span style=color:#000>NSAssert</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>hasExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>]]);</span>
</span></span><span style=display:flex><span><span style=color:#000>NSAssert</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>fooMsg</span> <span style=color:#f57900>hasExtension</span><span style=color:#000;font-weight:700>:[</span><span style=color:#000>Test2Root</span> <span style=color:#000>repeatedFoo</span><span style=color:#000;font-weight:700>]]);</span>
</span></span></code></pre></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/protocol-buffers aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul><script type=text/javascript id=cookiebanner src=https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js data-height=50px data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg=#ffb data-fg=#000 data-position=bottom data-padding="10px 16px" data-close-text="OK, got it" data-font-size=18px data-moreinfo=https://policies.google.com/technologies/cookies></script></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/protocolbuffers/protobuf aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/protobuf aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul><script type=text/javascript id=cookiebanner src=https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js data-height=50px data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg=#ffb data-fg=#000 data-position=bottom data-padding="10px 16px" data-close-text="OK, got it" data-font-size=18px data-moreinfo=https://policies.google.com/technologies/cookies></script></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2025 Google LLC All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></small>
<span class=text-white>Hosted by GitHub Pages.</span> <a href=https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement target=_blank>GitHub Privacy Statement</a></div></div></div></footer></div><script src=/js/main.min.c91cdfdcc1576ecc360abc6f1c3ca0485d047f65ac6d3203ec57ed29e0af808b.js integrity="sha256-yRzf3MFXbsw2CrxvHDygSF0Ef2WsbTID7FftKeCvgIs=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>