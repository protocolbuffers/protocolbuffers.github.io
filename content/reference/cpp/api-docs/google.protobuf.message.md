+++
title = "message.h"
toc_hide = "true"
linkTitle = "C++"
description = "This section contains reference documentation for working with protocol buffer classes in C++."
type = "docs"
+++

<p><code>#include &lt;google/protobuf/message.h&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>Defines <a href="#Message">Message</a>, the abstract interface implemented by non-lite protocol message objects. </p><p>Although it's possible to implement this interface manually, most users will use the protocol compiler to generate implementations.</p>

<p>Example usage:</p>

<p>Say you have a message defined as:</p>

<pre>message Foo {
  optional string text = 1;
  repeated int32 numbers = 2;
}</pre>

<p>Then, if you used the protocol compiler to generate a class from the above definition, you could use it like so:</p>

<pre>std::string data;  // Will store a serialized version of the message.

{
  // Create a message and serialize it.
  Foo foo;
  foo.set_text("Hello World!");
  foo.add_numbers(1);
  foo.add_numbers(5);
  foo.add_numbers(42);

  foo.SerializeToString(&amp;data);
}

{
  // Parse the serialized message and check that it contains the
  // correct data.
  Foo foo;
  foo.ParseFromString(data);

  assert(foo.text() == "Hello World!");
  assert(foo.numbers_size() == 3);
  assert(foo.numbers(0) == 1);
  assert(foo.numbers(1) == 5);
  assert(foo.numbers(2) == 42);
}

{
  // Same as the last block, but do it dynamically via the Message
  // reflection interface.
  Message* foo = new Foo;
  const Descriptor* descriptor = foo-&gt;GetDescriptor();

  // Get the descriptors for the fields we're interested in and verify
  // their types.
  const FieldDescriptor* text_field = descriptor-&gt;FindFieldByName("text");
  assert(text_field != nullptr);
  assert(text_field-&gt;type() == FieldDescriptor::TYPE_STRING);
  assert(text_field-&gt;label() == FieldDescriptor::LABEL_OPTIONAL);
  const FieldDescriptor* numbers_field = descriptor-&gt;
                                         FindFieldByName("numbers");
  assert(numbers_field != nullptr);
  assert(numbers_field-&gt;type() == FieldDescriptor::TYPE_INT32);
  assert(numbers_field-&gt;label() == FieldDescriptor::LABEL_REPEATED);

  // Parse the message.
  foo-&gt;ParseFromString(data);

  // Use the reflection interface to examine the contents.
  const Reflection* reflection = foo-&gt;GetReflection();
  assert(reflection-&gt;GetString(*foo, text_field) == "Hello World!");
  assert(reflection-&gt;FieldSize(*foo, numbers_field) == 3);
  assert(reflection-&gt;GetRepeatedInt32(*foo, numbers_field, 0) == 1);
  assert(reflection-&gt;GetRepeatedInt32(*foo, numbers_field, 1) == 5);
  assert(reflection-&gt;GetRepeatedInt32(*foo, numbers_field, 2) == 42);

  delete foo;
}</pre>

<table width="100%"><tr><th colspan="2"><h3 style="margin-top: 4px">Classes in this file</h3></th></tr><tr><td><div><code><a href="#Metadata">Metadata</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">A container to hold message metadata. </div></td></tr><tr><td><div><code><a href="#Message">Message</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Abstract interface for protocol messages. </div></td></tr><tr><td><div><code><a href="#Reflection">Reflection</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">This interface contains methods that can be used to dynamically access and modify the fields of a protocol message. </div></td></tr><tr><td><div><code><a href="#MessageFactory">MessageFactory</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Abstract interface for a factory for message objects. </div></td></tr></table><table><tr><th colspan="2"><h3 style="margin-top: 4px">File Members</h3><div style="font-style: italic; font-weight: normal;">These definitions are not part of any class.</div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template const T *</code></td><td style="border-left-width: 0px"id="DynamicCastToGenerated"><div style="padding-left: 16px; text-indent: -16px"><code><b>DynamicCastToGenerated</b>(const <a href='#Message'>Message</a> * from)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Tries to downcast this message to a generated message type.  <a href="#DynamicCastToGenerated.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template T *</code></td><td style="border-left-width: 0px"id="DynamicCastToGenerated"><div style="padding-left: 16px; text-indent: -16px"><code><b>DynamicCastToGenerated</b>(<a href='#Message'>Message</a> * from)</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template void</code></td><td style="border-left-width: 0px"id="LinkMessageReflection"><div style="padding-left: 16px; text-indent: -16px"><code><b>LinkMessageReflection</b>()</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Call this function to ensure that this message's reflection is linked into the binary:  <a href="#LinkMessageReflection.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.repeated_field#RepeatedPtrField'>RepeatedPtrField</a>&lt; std::string &gt; &amp;</code></td><td style="border-left-width: 0px"id="Reflection::GetRepeatedPtrFieldInternal< std::string >"><div style="padding-left: 16px; text-indent: -16px"><code><b>Reflection::GetRepeatedPtrFieldInternal< std::string ></b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code><a href='google.protobuf.repeated_field#RepeatedPtrField'>RepeatedPtrField</a>&lt; std::string &gt; *</code></td><td style="border-left-width: 0px"id="Reflection::MutableRepeatedPtrFieldInternal< std::string >"><div style="padding-left: 16px; text-indent: -16px"><code><b>Reflection::MutableRepeatedPtrFieldInternal< std::string ></b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr></table> <hr><h3 id="DynamicCastToGenerated.details"><code>template const T * protobuf::DynamicCastToGenerated(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> * from)</code></h3><div style="margin-left: 16px"><p>Tries to downcast this message to a generated message type. </p><p>Returns nullptr if this class is not an instance of T. This works even if RTTI is disabled.</p>
<p>This also has the effect of creating a strong reference to T that will prevent the linker from stripping it out at link time. This can be important if you are using a <a href='google.protobuf.dynamic_message#DynamicMessageFactory'>DynamicMessageFactory</a> that delegates to the generated factory. </p>
</div> <hr><h3 id="LinkMessageReflection.details"><code>template void protobuf::LinkMessageReflection()</code></h3><div style="margin-left: 16px"><p>Call this function to ensure that this message's reflection is linked into the binary: </p><pre>google::protobuf::LinkMessageReflection&lt;FooMessage&gt;();</pre>
<p>This will ensure that the following lookup will succeed:</p>
<pre>DescriptorPool::generated_pool()-&gt;FindMessageTypeByName("FooMessage");</pre>
<p>As a side-effect, it will also guarantee that anything else from the same .proto file will also be available for lookup in the generated pool.</p>
<p>This function does not actually register the message, so it does not need to be called before the lookup. However it does need to occur in a function that cannot be stripped from the binary (ie. it must be reachable from main).</p>
<p>Best practice is to call this function as close as possible to where the reflection is actually needed. This function is very cheap to call, so you should not need to worry about its runtime overhead except in the tightest of loops (on x86-64 it compiles into two "mov" instructions). </p>
</div><h2 id="Metadata">struct Metadata</h2><p><code>#include &lt;<a href="#">google/protobuf/message.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>A container to hold message metadata. </p><table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> *</code></td><td style="border-left-width: 0px"id="Metadata.descriptor"><div style="padding-left: 16px; text-indent: -16px"><code><b>descriptor</b></code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='#Reflection'>Reflection</a> *</code></td><td style="border-left-width: 0px"id="Metadata.reflection"><div style="padding-left: 16px; text-indent: -16px"><code><b>reflection</b></code></div></td></tr></table><h2 id="Message">class Message: public <a href="google.protobuf.message_lite#MessageLite">MessageLite</a></h2><p><code>#include &lt;<a href="#">google/protobuf/message.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>Abstract interface for protocol messages. </p><p>See also <a href='google.protobuf.message_lite#MessageLite'>MessageLite</a>, which contains most every-day operations. <a href='#Message'>Message</a> adds descriptors and reflection on top of that.</p>
<p>The methods of this class that are virtual but not pure-virtual have default implementations based on reflection. <a href='#Message'>Message</a> classes which are optimized for speed will want to override these with faster implementations, but classes optimized for code size may be happy with keeping them. See the optimize_for option in descriptor.proto.</p>
<p>Users must not derive from this class. Only the protocol compiler and the internal library are allowed to create subclasses. </p>
<table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>constexpr</code></td><td style="border-left-width: 0px"id="Message.Message"><div style="padding-left: 16px; text-indent: -16px"><code><b>Message</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>protected virtual <a href='#Metadata'>Metadata</a></code></td><td style="border-left-width: 0px"id="Message.GetMetadata"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetMetadata</b>() const  = 0</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get a struct containing the metadata for the <a href='#Message'>Message</a>, which is used in turn to implement <a href='#Message.GetDescriptor'>GetDescriptor()</a> and <a href='#Message.GetReflection'>GetReflection()</a> above. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>protected explicit </code></td><td style="border-left-width: 0px"id="Message.Message"><div style="padding-left: 16px; text-indent: -16px"><code><b>Message</b>(<a href='google.protobuf.arena#Arena'>Arena</a> * arena)</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>protected static uint64</code></td><td style="border-left-width: 0px"id="Message.GetInvariantPerBuild"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetInvariantPerBuild</b>(uint64 salt)</code></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Basic Operations</h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual <a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="Message.New"><div style="padding-left: 16px; text-indent: -16px"><code><b>New</b>() const  = 0</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Construct a new instance of the same type.  <a href="#Message.New.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual <a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="Message.New"><div style="padding-left: 16px; text-indent: -16px"><code><b>New</b>(<a href='google.protobuf.arena#Arena'>Arena</a> * arena) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Construct a new instance on the arena.  <a href="#Message.New.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual void</code></td><td style="border-left-width: 0px"id="Message.CopyFrom"><div style="padding-left: 16px; text-indent: -16px"><code><b>CopyFrom</b>(const <a href='#Message'>Message</a> &amp; from)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Make this message into a copy of the given message.  <a href="#Message.CopyFrom.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual void</code></td><td style="border-left-width: 0px"id="Message.MergeFrom"><div style="padding-left: 16px; text-indent: -16px"><code><b>MergeFrom</b>(const <a href='#Message'>Message</a> &amp; from)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Merge the fields from the given message into this message.  <a href="#Message.MergeFrom.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Message.CheckInitialized"><div style="padding-left: 16px; text-indent: -16px"><code><b>CheckInitialized</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Verifies that <a href='#Message.IsInitialized'>IsInitialized()</a> returns true.  <a href="#Message.CheckInitialized.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Message.FindInitializationErrors"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindInitializationErrors</b>(std::vector&lt; std::string &gt; * errors) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Slowly build a list of all required fields that are not set.  <a href="#Message.FindInitializationErrors.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual std::string</code></td><td style="border-left-width: 0px"id="Message.InitializationErrorString"><div style="padding-left: 16px; text-indent: -16px"><code><b>InitializationErrorString</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Like FindInitializationErrors, but joins all the strings, delimited by commas, and returns them. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual void</code></td><td style="border-left-width: 0px"id="Message.DiscardUnknownFields"><div style="padding-left: 16px; text-indent: -16px"><code><b>DiscardUnknownFields</b>()</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Clears all unknown fields from this message and all embedded messages.  <a href="#Message.DiscardUnknownFields.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual size_t</code></td><td style="border-left-width: 0px"id="Message.SpaceUsedLong"><div style="padding-left: 16px; text-indent: -16px"><code><b>SpaceUsedLong</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Computes (an estimate of) the total number of bytes currently used for storing the message in memory.  <a href="#Message.SpaceUsedLong.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int</code></td><td style="border-left-width: 0px"id="Message.SpaceUsed"><div style="padding-left: 16px; text-indent: -16px"><code><b>SpaceUsed</b>() const</code></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Debugging & Testing</h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>std::string</code></td><td style="border-left-width: 0px"id="Message.DebugString"><div style="padding-left: 16px; text-indent: -16px"><code><b>DebugString</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Generates a human readable form of this message, useful for debugging and other purposes. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>std::string</code></td><td style="border-left-width: 0px"id="Message.ShortDebugString"><div style="padding-left: 16px; text-indent: -16px"><code><b>ShortDebugString</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Like <a href='#Message.DebugString'>DebugString()</a>, but with less whitespace. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>std::string</code></td><td style="border-left-width: 0px"id="Message.Utf8DebugString"><div style="padding-left: 16px; text-indent: -16px"><code><b>Utf8DebugString</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Like <a href='#Message.DebugString'>DebugString()</a>, but do not escape UTF-8 byte sequences. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Message.PrintDebugString"><div style="padding-left: 16px; text-indent: -16px"><code><b>PrintDebugString</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Convenience function useful in GDB. Prints <a href='#Message.DebugString'>DebugString()</a> to stdout. </div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Reflection-based methods</h3><div style="font-style: italic; font-weight: normal;">These methods are pure-virtual in <a href='google.protobuf.message_lite#MessageLite'>MessageLite</a>, but <a href='#Message'>Message</a> provides reflection-based default implementations. </div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual std::string</code></td><td style="border-left-width: 0px"id="Message.GetTypeName"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetTypeName</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get the name of this message type, e.g. "foo.bar.BazProto". </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual void</code></td><td style="border-left-width: 0px"id="Message.Clear"><div style="padding-left: 16px; text-indent: -16px"><code><b>Clear</b>()</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Clear all fields of the message and set them to their default values.  <a href="#Message.Clear.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="Message.IsInitialized"><div style="padding-left: 16px; text-indent: -16px"><code><b>IsInitialized</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Returns whether all required fields have been set.  <a href="#Message.IsInitialized.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual void</code></td><td style="border-left-width: 0px"id="Message.CheckTypeAndMergeFrom"><div style="padding-left: 16px; text-indent: -16px"><code><b>CheckTypeAndMergeFrom</b>(const <a href='google.protobuf.message_lite#MessageLite'>MessageLite</a> &amp; other)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">If |other| is the exact same class as this, calls <a href='#Message.MergeFrom'>MergeFrom()</a>.  <a href="#Message.CheckTypeAndMergeFrom.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual const char *</code></td><td style="border-left-width: 0px"id="Message._InternalParse"><div style="padding-left: 16px; text-indent: -16px"><code><b>_InternalParse</b>(const char * ptr, internal::ParseContext * ctx)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Reflective parser. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual size_t</code></td><td style="border-left-width: 0px"id="Message.ByteSizeLong"><div style="padding-left: 16px; text-indent: -16px"><code><b>ByteSizeLong</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Computes the serialized size of the message.  <a href="#Message.ByteSizeLong.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual uint8 *</code></td><td style="border-left-width: 0px"id="Message._InternalSerialize"><div style="padding-left: 16px; text-indent: -16px"><code><b>_InternalSerialize</b>(uint8 * ptr, <a href='google.protobuf.io.coded_stream#EpsCopyOutputStream'>io::EpsCopyOutputStream</a> * stream) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Fast path when conditions match (ie.  <a href="#Message._InternalSerialize.details">more...</a></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Introspection</h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> *</code></td><td style="border-left-width: 0px"id="Message.GetDescriptor"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetDescriptor</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get a non-owning pointer to a <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> for this message's type.  <a href="#Message.GetDescriptor.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='#Reflection'>Reflection</a> *</code></td><td style="border-left-width: 0px"id="Message.GetReflection"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetReflection</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get a non-owning pointer to the <a href='#Reflection'>Reflection</a> interface for this <a href='#Message'>Message</a>, which can be used to read and modify the fields of the <a href='#Message'>Message</a> dynamically (in other words, without knowing the message type at compile time).  <a href="#Message.GetReflection.details">more...</a></div></td></tr></table> <hr><h3 id="Message.New.details"><code>virtual <a href='#Message'>Message</a> * Message::New() const  = 0</code></h3><div style="margin-left: 16px"><p>Construct a new instance of the same type. </p><p>Ownership is passed to the caller. (This is also defined in <a href='google.protobuf.message_lite#MessageLite'>MessageLite</a>, but is defined again here for return-type covariance.) </p>
</div> <hr><h3 id="Message.New.details"><code>virtual <a href='#Message'>Message</a> * Message::New(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='google.protobuf.arena#Arena'>Arena</a> * arena) const</code></h3><div style="margin-left: 16px"><p>Construct a new instance on the arena. </p><p>Ownership is passed to the caller if arena is a nullptr. Default implementation allows for API compatibility during the <a href='google.protobuf.arena#Arena'>Arena</a> transition. </p>
</div> <hr><h3 id="Message.CopyFrom.details"><code>virtual void Message::CopyFrom(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; from)</code></h3><div style="margin-left: 16px"><p>Make this message into a copy of the given message. </p><p>The given message must have the same descriptor, but need not necessarily be the same class. By default this is just implemented as "Clear(); MergeFrom(from);". </p>
</div> <hr><h3 id="Message.MergeFrom.details"><code>virtual void Message::MergeFrom(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; from)</code></h3><div style="margin-left: 16px"><p>Merge the fields from the given message into this message. </p><p>Singular fields will be overwritten, if specified in from, except for embedded messages which will be merged. Repeated fields will be concatenated. The given message must be of the same type as this message (i.e. the exact same class). </p>
</div> <hr><h3 id="Message.CheckInitialized.details"><code>void Message::CheckInitialized() const</code></h3><div style="margin-left: 16px"><p>Verifies that <a href='#Message.IsInitialized'>IsInitialized()</a> returns true. </p><p>GOOGLE_CHECK-fails otherwise, with a nice error message. </p>
</div> <hr><h3 id="Message.FindInitializationErrors.details"><code>void Message::FindInitializationErrors(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; std::string &gt; * errors) const</code></h3><div style="margin-left: 16px"><p>Slowly build a list of all required fields that are not set. </p><p>This is much, much slower than <a href='#Message.IsInitialized'>IsInitialized()</a> as it is implemented purely via reflection. Generally, you should not call this unless you have already determined that an error exists by calling <a href='#Message.IsInitialized'>IsInitialized()</a>. </p>
</div> <hr><h3 id="Message.DiscardUnknownFields.details"><code>virtual void Message::DiscardUnknownFields()</code></h3><div style="margin-left: 16px"><p>Clears all unknown fields from this message and all embedded messages. </p><p>Normally, if unknown tag numbers are encountered when parsing a message, the tag and value are stored in the message's <a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> and then written back out when the message is serialized. This allows servers which simply route messages to other servers to pass through messages that have new field definitions which they don't yet know about. However, this behavior can have security implications. To avoid it, call this method after parsing.</p>
<p>See <a href='#Reflection.GetUnknownFields'>Reflection::GetUnknownFields()</a> for more on unknown fields. </p>
</div> <hr><h3 id="Message.SpaceUsedLong.details"><code>virtual size_t Message::SpaceUsedLong() const</code></h3><div style="margin-left: 16px"><p>Computes (an estimate of) the total number of bytes currently used for storing the message in memory. </p><p>The default implementation calls the <a href='#Reflection'>Reflection</a> object's SpaceUsed() method.</p>
<p>SpaceUsed() is noticeably slower than <a href='google.protobuf.message_lite#MessageLite.ByteSize'>ByteSize()</a>, as it is implemented using reflection (rather than the generated code implementation for <a href='google.protobuf.message_lite#MessageLite.ByteSize'>ByteSize()</a>). Like <a href='google.protobuf.message_lite#MessageLite.ByteSize'>ByteSize()</a>, its CPU time is linear in the number of fields defined for the proto. </p>
</div> <hr><h3 id="Message.Clear.details"><code>virtual void Message::Clear()</code></h3><div style="margin-left: 16px"><p>Clear all fields of the message and set them to their default values. </p><p><a href='#Message.Clear'>Clear()</a> avoids freeing memory, assuming that any memory allocated to hold parts of the message will be needed again to hold the next message. If you actually want to free the memory used by a <a href='#Message'>Message</a>, you must delete it. </p>
</div> <hr><h3 id="Message.IsInitialized.details"><code>virtual bool Message::IsInitialized() const</code></h3><div style="margin-left: 16px"><p>Returns whether all required fields have been set. </p><p>Note that required fields no longer exist starting in proto3. </p>
</div> <hr><h3 id="Message.CheckTypeAndMergeFrom.details"><code>virtual void Message::CheckTypeAndMergeFrom(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.message_lite#MessageLite'>MessageLite</a> &amp; other)</code></h3><div style="margin-left: 16px"><p>If |other| is the exact same class as this, calls <a href='#Message.MergeFrom'>MergeFrom()</a>. </p><p>Otherwise, results are undefined (probably crash). </p>
</div> <hr><h3 id="Message.ByteSizeLong.details"><code>virtual size_t Message::ByteSizeLong() const</code></h3><div style="margin-left: 16px"><p>Computes the serialized size of the message. </p><p>This recursively calls <a href='#Message.ByteSizeLong'>ByteSizeLong()</a> on all embedded messages.</p>
<p><a href='#Message.ByteSizeLong'>ByteSizeLong()</a> is generally linear in the number of fields defined for the proto. </p>
</div> <hr><h3 id="Message._InternalSerialize.details"><code>virtual uint8 * Message::_InternalSerialize(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint8 * ptr,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='google.protobuf.io.coded_stream#EpsCopyOutputStream'>io::EpsCopyOutputStream</a> * stream) const</code></h3><div style="margin-left: 16px"><p>Fast path when conditions match (ie. </p><p>non-deterministic) uint8* _InternalSerialize(uint8* ptr) const; </p>
</div> <hr><h3 id="Message.GetDescriptor.details"><code>const <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> * <br>&nbsp;&nbsp;&nbsp;&nbsp;Message::GetDescriptor() const</code></h3><div style="margin-left: 16px"><p>Get a non-owning pointer to a <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> for this message's type. </p><p>This describes what fields the message contains, the types of those fields, etc. This object remains property of the <a href='#Message'>Message</a>. </p>
</div> <hr><h3 id="Message.GetReflection.details"><code>const <a href='#Reflection'>Reflection</a> * <br>&nbsp;&nbsp;&nbsp;&nbsp;Message::GetReflection() const</code></h3><div style="margin-left: 16px"><p>Get a non-owning pointer to the <a href='#Reflection'>Reflection</a> interface for this <a href='#Message'>Message</a>, which can be used to read and modify the fields of the <a href='#Message'>Message</a> dynamically (in other words, without knowing the message type at compile time). </p><p>This object remains property of the <a href='#Message'>Message</a>. </p>
</div><h2 id="Reflection">class Reflection</h2><p><code>#include &lt;<a href="#">google/protobuf/message.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>This interface contains methods that can be used to dynamically access and modify the fields of a protocol message. </p><p>Their semantics are similar to the accessors the protocol compiler generates.</p>
<p>To get the <a href='#Reflection'>Reflection</a> for a given <a href='#Message'>Message</a>, call <a href='#Message.GetReflection'>Message::GetReflection()</a>.</p>
<p>This interface is separate from <a href='#Message'>Message</a> only for efficiency reasons; the vast majority of implementations of <a href='#Message'>Message</a> will share the same implementation of <a href='#Reflection'>Reflection</a> (GeneratedMessageReflection, defined in generated_message.h), and all Messages of a particular class should share the same <a href='#Reflection'>Reflection</a> object (though you should not rely on the latter fact).</p>
<p>There are several ways that these methods can be used incorrectly. For example, any of the following conditions will lead to undefined results (probably assertion failures):</p>
<ul>
  <li>The <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> is not a field of this message type.</li>
  <li>The method called is not appropriate for the field's type. For each field type in FieldDescriptor::TYPE_*, there is only one Get*() method, one Set*() method, and one Add*() method that is valid for that type. It should be obvious which (except maybe for TYPE_BYTES, which are represented using strings in C++).</li>
  <li>A Get*() or Set*() method for singular fields is called on a repeated field.</li>
  <li>GetRepeated*(), SetRepeated*(), or Add*() is called on a non-repeated field.</li>
  <li>The <a href='#Message'>Message</a> object passed to any method is not of the right type for this <a href='#Reflection'>Reflection</a> object (i.e. message.GetReflection() != reflection).</li>
</ul>
<p>You might wonder why there is not any abstract representation for a field of arbitrary type. E.g., why isn't there just a "GetField()" method that returns "const Field&amp;", where "Field" is some class with accessors like "GetInt32Value()". The problem is that someone would have to deal with allocating these Field objects. For generated message classes, having to allocate space for an additional object to wrap every field would at least double the message's memory footprint, probably worse. Allocating the objects on-demand, on the other hand, would be expensive and prone to memory leaks. So, instead we ended up with this flat interface. </p>
<table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> &amp;</code></td><td style="border-left-width: 0px"id="Reflection.GetUnknownFields"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetUnknownFields</b>(const <a href='#Message'>Message</a> &amp; message) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get the <a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> for the message.  <a href="#Reflection.GetUnknownFields.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code><a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> *</code></td><td style="border-left-width: 0px"id="Reflection.MutableUnknownFields"><div style="padding-left: 16px; text-indent: -16px"><code><b>MutableUnknownFields</b>(<a href='#Message'>Message</a> * message) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get a mutable pointer to the <a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> for the message.  <a href="#Reflection.MutableUnknownFields.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>size_t</code></td><td style="border-left-width: 0px"id="Reflection.SpaceUsedLong"><div style="padding-left: 16px; text-indent: -16px"><code><b>SpaceUsedLong</b>(const <a href='#Message'>Message</a> &amp; message) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Estimate the amount of memory used by the message object. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int</code></td><td style="border-left-width: 0px"id="Reflection.SpaceUsed"><div style="padding-left: 16px; text-indent: -16px"><code><b>SpaceUsed</b>(const <a href='#Message'>Message</a> &amp; message) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="Reflection.HasField"><div style="padding-left: 16px; text-indent: -16px"><code><b>HasField</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Check if the given non-repeated field is set. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int</code></td><td style="border-left-width: 0px"id="Reflection.FieldSize"><div style="padding-left: 16px; text-indent: -16px"><code><b>FieldSize</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get the number of elements of a repeated field. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.ClearField"><div style="padding-left: 16px; text-indent: -16px"><code><b>ClearField</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Clear the value of a field, so that <a href='#Reflection.HasField'>HasField()</a> returns false or <a href='#Reflection.FieldSize'>FieldSize()</a> returns zero. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="Reflection.HasOneof"><div style="padding-left: 16px; text-indent: -16px"><code><b>HasOneof</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#OneofDescriptor'>OneofDescriptor</a> * oneof_descriptor) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Check if the oneof is set.  <a href="#Reflection.HasOneof.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.ClearOneof"><div style="padding-left: 16px; text-indent: -16px"><code><b>ClearOneof</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#OneofDescriptor'>OneofDescriptor</a> * oneof_descriptor) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> *</code></td><td style="border-left-width: 0px"id="Reflection.GetOneofFieldDescriptor"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetOneofFieldDescriptor</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#OneofDescriptor'>OneofDescriptor</a> * oneof_descriptor) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Returns the field descriptor if the oneof is set. nullptr otherwise. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.RemoveLast"><div style="padding-left: 16px; text-indent: -16px"><code><b>RemoveLast</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Removes the last element of a repeated field.  <a href="#Reflection.RemoveLast.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>PROTOBUF_FUTURE_MUST_USE_RESULT <a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="Reflection.ReleaseLast"><div style="padding-left: 16px; text-indent: -16px"><code><b>ReleaseLast</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Removes the last element of a repeated message field, and returns the pointer to the caller.  <a href="#Reflection.ReleaseLast.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.Swap"><div style="padding-left: 16px; text-indent: -16px"><code><b>Swap</b>(<a href='#Message'>Message</a> * message1, <a href='#Message'>Message</a> * message2) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Swap the complete contents of two messages. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SwapFields"><div style="padding-left: 16px; text-indent: -16px"><code><b>SwapFields</b>(<a href='#Message'>Message</a> * message1, <a href='#Message'>Message</a> * message2, const std::vector&lt; const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * &gt; &amp; fields) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Swap fields listed in fields vector of two messages. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SwapElements"><div style="padding-left: 16px; text-indent: -16px"><code><b>SwapElements</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index1, int index2) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Swap two elements of a repeated field. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.ListFields"><div style="padding-left: 16px; text-indent: -16px"><code><b>ListFields</b>(const <a href='#Message'>Message</a> &amp; message, std::vector&lt; const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * &gt; * output) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">List all fields of the message which are currently set, except for unknown fields, but including extension known to the parser (i.e.  <a href="#Reflection.ListFields.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.repeated_field#RepeatedPtrField'>RepeatedPtrField</a>&lt; <a href='#Message'>Message</a> &gt; &amp;</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedPtrFieldInternal"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedPtrFieldInternal</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code><a href='google.protobuf.repeated_field#RepeatedPtrField'>RepeatedPtrField</a>&lt; <a href='#Message'>Message</a> &gt; *</code></td><td style="border-left-width: 0px"id="Reflection.MutableRepeatedPtrFieldInternal"><div style="padding-left: 16px; text-indent: -16px"><code><b>MutableRepeatedPtrFieldInternal</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Singular field getters</h3><div style="font-style: italic; font-weight: normal;">These get the value of a non-repeated field. They return the default value for fields that aren't set. </div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int32</code></td><td style="border-left-width: 0px"id="Reflection.GetInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetInt32</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int64</code></td><td style="border-left-width: 0px"id="Reflection.GetInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetInt64</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>uint32</code></td><td style="border-left-width: 0px"id="Reflection.GetUInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetUInt32</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>uint64</code></td><td style="border-left-width: 0px"id="Reflection.GetUInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetUInt64</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>float</code></td><td style="border-left-width: 0px"id="Reflection.GetFloat"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetFloat</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>double</code></td><td style="border-left-width: 0px"id="Reflection.GetDouble"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetDouble</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="Reflection.GetBool"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetBool</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>std::string</code></td><td style="border-left-width: 0px"id="Reflection.GetString"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetString</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a> *</code></td><td style="border-left-width: 0px"id="Reflection.GetEnum"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetEnum</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int</code></td><td style="border-left-width: 0px"id="Reflection.GetEnumValue"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetEnumValue</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;"><a href='#Reflection.GetEnumValue'>GetEnumValue()</a> returns an enum field's value as an integer rather than an EnumValueDescriptor*.  <a href="#Reflection.GetEnumValue.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='#Message'>Message</a> &amp;</code></td><td style="border-left-width: 0px"id="Reflection.GetMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetMessage</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, <a href='#MessageFactory'>MessageFactory</a> * factory = nullptr) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">See <a href='#Reflection.MutableMessage'>MutableMessage()</a> for the meaning of the "factory" parameter. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const std::string &amp;</code></td><td style="border-left-width: 0px"id="Reflection.GetStringReference"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetStringReference</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, std::string * scratch) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get a string value without copying, if possible.  <a href="#Reflection.GetStringReference.details">more...</a></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Singular field mutators</h3><div style="font-style: italic; font-weight: normal;">These mutate the value of a non-repeated field. </div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetInt32</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int32 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetInt64</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int64 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetUInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetUInt32</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, uint32 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetUInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetUInt64</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, uint64 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetFloat"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetFloat</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, float value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetDouble"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetDouble</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, double value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetBool"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetBool</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, bool value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetString"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetString</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, std::string value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetEnum"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetEnum</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, const <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a> * value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetEnumValue"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetEnumValue</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int value) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Set an enum field's value with an integer rather than <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a>.  <a href="#Reflection.SetEnumValue.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code><a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="Reflection.MutableMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>MutableMessage</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, <a href='#MessageFactory'>MessageFactory</a> * factory = nullptr) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get a mutable pointer to a field with a message type.  <a href="#Reflection.MutableMessage.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetAllocatedMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetAllocatedMessage</b>(<a href='#Message'>Message</a> * message, <a href='#Message'>Message</a> * sub_message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Replaces the message specified by 'field' with the already-allocated object sub_message, passing ownership to the message.  <a href="#Reflection.SetAllocatedMessage.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.UnsafeArenaSetAllocatedMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>UnsafeArenaSetAllocatedMessage</b>(<a href='#Message'>Message</a> * message, <a href='#Message'>Message</a> * sub_message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Similar to <code>SetAllocatedMessage</code>, but omits all internal safety and ownership checks.  <a href="#Reflection.UnsafeArenaSetAllocatedMessage.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>PROTOBUF_FUTURE_MUST_USE_RESULT <a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="Reflection.ReleaseMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>ReleaseMessage</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, <a href='#MessageFactory'>MessageFactory</a> * factory = nullptr) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Releases the message specified by 'field' and returns the pointer, <a href='#Reflection.ReleaseMessage'>ReleaseMessage()</a> will return the message the message object if it exists.  <a href="#Reflection.ReleaseMessage.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code><a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="Reflection.UnsafeArenaReleaseMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>UnsafeArenaReleaseMessage</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, <a href='#MessageFactory'>MessageFactory</a> * factory = nullptr) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Similar to <code>ReleaseMessage</code>, but omits all internal safety and ownership checks.  <a href="#Reflection.UnsafeArenaReleaseMessage.details">more...</a></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Repeated field getters</h3><div style="font-style: italic; font-weight: normal;">These get the value of one element of a repeated field. </div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int32</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedInt32</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int64</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedInt64</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>uint32</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedUInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedUInt32</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>uint64</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedUInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedUInt64</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>float</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedFloat"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedFloat</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>double</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedDouble"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedDouble</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedBool"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedBool</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>std::string</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedString"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedString</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a> *</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedEnum"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedEnum</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>int</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedEnumValue"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedEnumValue</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;"><a href='#Reflection.GetRepeatedEnumValue'>GetRepeatedEnumValue()</a> returns an enum field's value as an integer rather than an EnumValueDescriptor*.  <a href="#Reflection.GetRepeatedEnumValue.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='#Message'>Message</a> &amp;</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedMessage</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const std::string &amp;</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedStringReference"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedStringReference</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, std::string * scratch) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">See <a href='#Reflection.GetStringReference'>GetStringReference()</a>, above. </div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Repeated field mutators</h3><div style="font-style: italic; font-weight: normal;">These mutate the value of one element of a repeated field. </div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedInt32</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, int32 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedInt64</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, int64 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedUInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedUInt32</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, uint32 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedUInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedUInt64</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, uint64 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedFloat"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedFloat</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, float value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedDouble"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedDouble</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, double value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedBool"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedBool</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, bool value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedString"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedString</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, std::string value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedEnum"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedEnum</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, const <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a> * value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.SetRepeatedEnumValue"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRepeatedEnumValue</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index, int value) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Set an enum field's value with an integer rather than <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a>.  <a href="#Reflection.SetRepeatedEnumValue.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code><a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="Reflection.MutableRepeatedMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>MutableRepeatedMessage</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int index) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get a mutable pointer to an element of a repeated field with a message type. </div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Repeated field adders</h3><div style="font-style: italic; font-weight: normal;">These add an element to a repeated field. </div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddInt32</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int32 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddInt64</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int64 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddUInt32"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddUInt32</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, uint32 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddUInt64"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddUInt64</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, uint64 value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddFloat"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddFloat</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, float value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddDouble"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddDouble</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, double value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddBool"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddBool</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, bool value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddString"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddString</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, std::string value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddEnum"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddEnum</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, const <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a> * value) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddEnumValue"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddEnumValue</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, int value) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Add an integer value to a repeated enum field rather than <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a>.  <a href="#Reflection.AddEnumValue.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code><a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="Reflection.AddMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddMessage</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, <a href='#MessageFactory'>MessageFactory</a> * factory = nullptr) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">See <a href='#Reflection.MutableMessage'>MutableMessage()</a> for comments on the "factory" parameter. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Reflection.AddAllocatedMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddAllocatedMessage</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field, <a href='#Message'>Message</a> * new_entry) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Appends an already-allocated object 'new_entry' to the repeated field specified by 'field' passing ownership to the message. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template RepeatedFieldRef&lt; T &gt;</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedFieldRef"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedFieldRef</b>(const <a href='#Message'>Message</a> &amp; message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Get a RepeatedFieldRef object that can be used to read the underlying repeated field.  <a href="#Reflection.GetRepeatedFieldRef.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template MutableRepeatedFieldRef&lt; T &gt;</code></td><td style="border-left-width: 0px"id="Reflection.GetMutableRepeatedFieldRef"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetMutableRepeatedFieldRef</b>(<a href='#Message'>Message</a> * message, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Like <a href='#Reflection.GetRepeatedFieldRef'>GetRepeatedFieldRef()</a> but return an object that can also be used manipulate the underlying repeated field. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template const <a href='google.protobuf.repeated_field#RepeatedField'>RepeatedField</a>&lt; T &gt; &amp;</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedField"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedField</b>(const <a href='#Message'>Message</a> &amp; msg, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * d) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">DEPRECATED.  <a href="#Reflection.GetRepeatedField.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template <a href='google.protobuf.repeated_field#RepeatedField'>RepeatedField</a>&lt; T &gt; *</code></td><td style="border-left-width: 0px"id="Reflection.MutableRepeatedField"><div style="padding-left: 16px; text-indent: -16px"><code><b>MutableRepeatedField</b>(<a href='#Message'>Message</a> * msg, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * d) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">DEPRECATED.  <a href="#Reflection.MutableRepeatedField.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template const <a href='google.protobuf.repeated_field#RepeatedPtrField'>RepeatedPtrField</a>&lt; T &gt; &amp;</code></td><td style="border-left-width: 0px"id="Reflection.GetRepeatedPtrField"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetRepeatedPtrField</b>(const <a href='#Message'>Message</a> &amp; msg, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * d) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">DEPRECATED.  <a href="#Reflection.GetRepeatedPtrField.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>template <a href='google.protobuf.repeated_field#RepeatedPtrField'>RepeatedPtrField</a>&lt; T &gt; *</code></td><td style="border-left-width: 0px"id="Reflection.MutableRepeatedPtrField"><div style="padding-left: 16px; text-indent: -16px"><code><b>MutableRepeatedPtrField</b>(<a href='#Message'>Message</a> * msg, const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * d) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">DEPRECATED.  <a href="#Reflection.MutableRepeatedPtrField.details">more...</a></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Extensions</h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> *</code></td><td style="border-left-width: 0px"id="Reflection.FindKnownExtensionByName"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindKnownExtensionByName</b>(const std::string &amp; name) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Try to find an extension of this message type by fully-qualified field name.  <a href="#Reflection.FindKnownExtensionByName.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> *</code></td><td style="border-left-width: 0px"id="Reflection.FindKnownExtensionByNumber"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindKnownExtensionByNumber</b>(int number) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Try to find an extension of this message type by field number.  <a href="#Reflection.FindKnownExtensionByNumber.details">more...</a></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">Feature Flags</h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="Reflection.SupportsUnknownEnumValues"><div style="padding-left: 16px; text-indent: -16px"><code><b>SupportsUnknownEnumValues</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Does this message support storing arbitrary integer values in enum fields? If |true|, GetEnumValue/SetEnumValue and associated repeated-field versions take arbitrary integer values, and the legacy GetEnum() getter will dynamically create an <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a> for any integer value without one.  <a href="#Reflection.SupportsUnknownEnumValues.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code><a href='#MessageFactory'>MessageFactory</a> *</code></td><td style="border-left-width: 0px"id="Reflection.GetMessageFactory"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetMessageFactory</b>() const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Returns the <a href='#MessageFactory'>MessageFactory</a> associated with this message.  <a href="#Reflection.GetMessageFactory.details">more...</a></div></td></tr></table> <hr><h3 id="Reflection.GetUnknownFields.details"><code>const <a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> &amp; <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::GetUnknownFields(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; message) const</code></h3><div style="margin-left: 16px"><p>Get the <a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> for the message. </p><p>This contains fields which were seen when the <a href='#Message'>Message</a> was parsed but were not recognized according to the <a href='#Message'>Message</a>'s definition. </p>
</div> <hr><h3 id="Reflection.MutableUnknownFields.details"><code><a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> * <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::MutableUnknownFields(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message) const</code></h3><div style="margin-left: 16px"><p>Get a mutable pointer to the <a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> for the message. </p><p>This contains fields which were seen when the <a href='#Message'>Message</a> was parsed but were not recognized according to the <a href='#Message'>Message</a>'s definition. </p>
</div> <hr><h3 id="Reflection.HasOneof.details"><code>bool Reflection::HasOneof(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#OneofDescriptor'>OneofDescriptor</a> * oneof_descriptor) const</code></h3><div style="margin-left: 16px"><p>Check if the oneof is set. </p><p>Returns true if any field in oneof is set, false otherwise. </p>
</div> <hr><h3 id="Reflection.RemoveLast.details"><code>void Reflection::RemoveLast(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></h3><div style="margin-left: 16px"><p>Removes the last element of a repeated field. </p><p>We don't provide a way to remove any element other than the last because it invites inefficient use, such as O(n^2) filtering loops that should have been O(n). If you want to remove an element other than the last, the best way to do it is to re-arrange the elements (using <a href='#Reflection.Swap'>Swap()</a>) so that the one you want removed is at the end, then call <a href='#Reflection.RemoveLast'>RemoveLast()</a>. </p>
</div> <hr><h3 id="Reflection.ReleaseLast.details"><code>PROTOBUF_FUTURE_MUST_USE_RESULT <a href='#Message'>Message</a> * <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::ReleaseLast(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></h3><div style="margin-left: 16px"><p>Removes the last element of a repeated message field, and returns the pointer to the caller. </p><p>Caller takes ownership of the returned pointer. </p>
</div> <hr><h3 id="Reflection.ListFields.details"><code>void Reflection::ListFields(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * &gt; * output) const</code></h3><div style="margin-left: 16px"><p>List all fields of the message which are currently set, except for unknown fields, but including extension known to the parser (i.e. </p><p>compiled in). Singular fields will only be listed if HasField(field) would return true and repeated fields will only be listed if FieldSize(field) would return non-zero. Fields (both normal fields and extension fields) will be listed ordered by field number. Use <a href='#Reflection.GetUnknownFields'>Reflection::GetUnknownFields()</a> or message.unknown_fields() to also get access to fields/extensions unknown to the parser. </p>
</div> <hr><h3 id="Reflection.GetEnumValue.details"><code>int Reflection::GetEnumValue(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></h3><div style="margin-left: 16px"><p><a href='#Reflection.GetEnumValue'>GetEnumValue()</a> returns an enum field's value as an integer rather than an EnumValueDescriptor*. </p><p>If the integer value does not correspond to a known value descriptor, a new value descriptor is created. (Such a value will only be present when the new unknown-enum-value semantics are enabled for a message.) </p>
</div> <hr><h3 id="Reflection.GetStringReference.details"><code>const std::string &amp; <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::GetStringReference(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::string * scratch) const</code></h3><div style="margin-left: 16px"><p>Get a string value without copying, if possible. </p><p>GetString() necessarily returns a copy of the string. This can be inefficient when the std::string is already stored in a std::string object in the underlying message. <a href='#Reflection.GetStringReference'>GetStringReference()</a> will return a reference to the underlying std::string in this case. Otherwise, it will copy the string into *scratch and return that.</p>
<p>Note: It is perfectly reasonable and useful to write code like: </p>
<pre>str = reflection-&gt;GetStringReference(message, field, &amp;str);</pre>
<p> This line would ensure that only one copy of the string is made regardless of the field's underlying representation. When initializing a newly-constructed string, though, it's just as fast and more readable to use code like: </p>
<pre>std::string str = reflection-&gt;GetString(message, field);</pre>
</div> <hr><h3 id="Reflection.SetEnumValue.details"><code>void Reflection::SetEnumValue(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int value) const</code></h3><div style="margin-left: 16px"><p>Set an enum field's value with an integer rather than <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a>. </p><p>For proto3 this is just setting the enum field to the value specified, for proto2 it's more complicated. If value is a known enum value the field is set as usual. If the value is unknown then it is added to the unknown field set. Note this matches the behavior of parsing unknown enum values. If multiple calls with unknown values happen than they are all added to the unknown field set in order of the calls. </p>
</div> <hr><h3 id="Reflection.MutableMessage.details"><code><a href='#Message'>Message</a> * Reflection::MutableMessage(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#MessageFactory'>MessageFactory</a> * factory = nullptr) const</code></h3><div style="margin-left: 16px"><p>Get a mutable pointer to a field with a message type. </p><p>If a <a href='#MessageFactory'>MessageFactory</a> is provided, it will be used to construct instances of the sub-message; otherwise, the default factory is used. If the field is an extension that does not live in the same pool as the containing message's descriptor (e.g. it lives in an overlay pool), then a <a href='#MessageFactory'>MessageFactory</a> must be provided. If you have no idea what that meant, then you probably don't need to worry about it (don't provide a <a href='#MessageFactory'>MessageFactory</a>). WARNING: If the <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> is for a compiled-in extension, then factory-&gt;GetPrototype(field-&gt;message_type()) MUST return an instance of the compiled-in class for this type, NOT DynamicMessage. </p>
</div> <hr><h3 id="Reflection.SetAllocatedMessage.details"><code>void Reflection::SetAllocatedMessage(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * sub_message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></h3><div style="margin-left: 16px"><p>Replaces the message specified by 'field' with the already-allocated object sub_message, passing ownership to the message. </p><p>If the field contained a message, that message is deleted. If sub_message is nullptr, the field is cleared. </p>
</div> <hr><h3 id="Reflection.UnsafeArenaSetAllocatedMessage.details"><code>void Reflection::UnsafeArenaSetAllocatedMessage(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * sub_message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></h3><div style="margin-left: 16px"><p>Similar to <code>SetAllocatedMessage</code>, but omits all internal safety and ownership checks. </p><p>This method should only be used when the objects are on the same arena or paired with a call to <code>UnsafeArenaReleaseMessage</code>. </p>
</div> <hr><h3 id="Reflection.ReleaseMessage.details"><code>PROTOBUF_FUTURE_MUST_USE_RESULT <a href='#Message'>Message</a> * <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::ReleaseMessage(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#MessageFactory'>MessageFactory</a> * factory = nullptr) const</code></h3><div style="margin-left: 16px"><p>Releases the message specified by 'field' and returns the pointer, <a href='#Reflection.ReleaseMessage'>ReleaseMessage()</a> will return the message the message object if it exists. </p><p>Otherwise, it may or may not return nullptr. In any case, if the return value is non-null, the caller takes ownership of the pointer. If the field existed (<a href='#Reflection.HasField'>HasField()</a> is true), then the returned pointer will be the same as the pointer returned by <a href='#Reflection.MutableMessage'>MutableMessage()</a>. This function has the same effect as <a href='#Reflection.ClearField'>ClearField()</a>. </p>
</div> <hr><h3 id="Reflection.UnsafeArenaReleaseMessage.details"><code><a href='#Message'>Message</a> * Reflection::UnsafeArenaReleaseMessage(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#MessageFactory'>MessageFactory</a> * factory = nullptr) const</code></h3><div style="margin-left: 16px"><p>Similar to <code>ReleaseMessage</code>, but omits all internal safety and ownership checks. </p><p>This method should only be used when the objects are on the same arena or paired with a call to <code>UnsafeArenaSetAllocatedMessage</code>. </p>
</div> <hr><h3 id="Reflection.GetRepeatedEnumValue.details"><code>int Reflection::GetRepeatedEnumValue(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int index) const</code></h3><div style="margin-left: 16px"><p><a href='#Reflection.GetRepeatedEnumValue'>GetRepeatedEnumValue()</a> returns an enum field's value as an integer rather than an EnumValueDescriptor*. </p><p>If the integer value does not correspond to a known value descriptor, a new value descriptor is created. (Such a value will only be present when the new unknown-enum-value semantics are enabled for a message.) </p>
</div> <hr><h3 id="Reflection.SetRepeatedEnumValue.details"><code>void Reflection::SetRepeatedEnumValue(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int index,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int value) const</code></h3><div style="margin-left: 16px"><p>Set an enum field's value with an integer rather than <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a>. </p><p>For proto3 this is just setting the enum field to the value specified, for proto2 it's more complicated. If value is a known enum value the field is set as usual. If the value is unknown then it is added to the unknown field set. Note this matches the behavior of parsing unknown enum values. If multiple calls with unknown values happen than they are all added to the unknown field set in order of the calls. </p>
</div> <hr><h3 id="Reflection.AddEnumValue.details"><code>void Reflection::AddEnumValue(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int value) const</code></h3><div style="margin-left: 16px"><p>Add an integer value to a repeated enum field rather than <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a>. </p><p>For proto3 this is just setting the enum field to the value specified, for proto2 it's more complicated. If value is a known enum value the field is set as usual. If the value is unknown then it is added to the unknown field set. Note this matches the behavior of parsing unknown enum values. If multiple calls with unknown values happen than they are all added to the unknown field set in order of the calls. </p>
</div> <hr><h3 id="Reflection.GetRepeatedFieldRef.details"><code>template RepeatedFieldRef&lt; T &gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::GetRepeatedFieldRef(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; message,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * field) const</code></h3><div style="margin-left: 16px"><p>Get a RepeatedFieldRef object that can be used to read the underlying repeated field. </p><p>The type parameter T must be set according to the field's cpp type. The following table shows the mapping from cpp type to acceptable T.</p>
<pre>field-&gt;cpp_type()      T
CPPTYPE_INT32        int32
CPPTYPE_UINT32       uint32
CPPTYPE_INT64        int64
CPPTYPE_UINT64       uint64
CPPTYPE_DOUBLE       double
CPPTYPE_FLOAT        float
CPPTYPE_BOOL         bool
CPPTYPE_ENUM         generated enum type or int32
CPPTYPE_STRING       std::string
CPPTYPE_MESSAGE      generated message type or google::protobuf::Message</pre>
<p>A RepeatedFieldRef object can be copied and the resulted object will point to the same repeated field in the same message. The object can be used as long as the message is not destroyed.</p>
<p>Note that to use this method users need to include the header file "reflection.h" (which defines the RepeatedFieldRef class templates). </p>
</div> <hr><h3 id="Reflection.GetRepeatedField.details"><code>template const <a href='google.protobuf.repeated_field#RepeatedField'>RepeatedField</a>&lt; T &gt; &amp; <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::GetRepeatedField(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; msg,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * d) const</code></h3><div style="margin-left: 16px"><p>DEPRECATED. </p><p>Please use <a href='#Reflection.GetRepeatedFieldRef'>GetRepeatedFieldRef()</a>.</p>
<p>for T = Cord and all protobuf scalar types except enums. </p>
</div> <hr><h3 id="Reflection.MutableRepeatedField.details"><code>template <a href='google.protobuf.repeated_field#RepeatedField'>RepeatedField</a>&lt; T &gt; * <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::MutableRepeatedField(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * msg,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * d) const</code></h3><div style="margin-left: 16px"><p>DEPRECATED. </p><p>Please use <a href='#Reflection.GetMutableRepeatedFieldRef'>GetMutableRepeatedFieldRef()</a>.</p>
<p>for T = Cord and all protobuf scalar types except enums. </p>
</div> <hr><h3 id="Reflection.GetRepeatedPtrField.details"><code>template const <a href='google.protobuf.repeated_field#RepeatedPtrField'>RepeatedPtrField</a>&lt; T &gt; &amp; <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::GetRepeatedPtrField(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> &amp; msg,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * d) const</code></h3><div style="margin-left: 16px"><p>DEPRECATED. </p><p>Please use <a href='#Reflection.GetRepeatedFieldRef'>GetRepeatedFieldRef()</a>.</p>
<p>for T = std::string, google::protobuf::internal::StringPieceField </p>
<pre>google::protobuf::Message &amp; descendants.</pre>
</div> <hr><h3 id="Reflection.MutableRepeatedPtrField.details"><code>template <a href='google.protobuf.repeated_field#RepeatedPtrField'>RepeatedPtrField</a>&lt; T &gt; * <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::MutableRepeatedPtrField(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#Message'>Message</a> * msg,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * d) const</code></h3><div style="margin-left: 16px"><p>DEPRECATED. </p><p>Please use <a href='#Reflection.GetMutableRepeatedFieldRef'>GetMutableRepeatedFieldRef()</a>.</p>
<p>for T = std::string, google::protobuf::internal::StringPieceField </p>
<pre>google::protobuf::Message &amp; descendants.</pre>
</div> <hr><h3 id="Reflection.FindKnownExtensionByName.details"><code>const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::FindKnownExtensionByName(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; name) const</code></h3><div style="margin-left: 16px"><p>Try to find an extension of this message type by fully-qualified field name. </p><p>Returns nullptr if no extension is known for this name or number. </p>
</div> <hr><h3 id="Reflection.FindKnownExtensionByNumber.details"><code>const <a href='google.protobuf.descriptor#FieldDescriptor'>FieldDescriptor</a> * <br>&nbsp;&nbsp;&nbsp;&nbsp;Reflection::FindKnownExtensionByNumber(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int number) const</code></h3><div style="margin-left: 16px"><p>Try to find an extension of this message type by field number. </p><p>Returns nullptr if no extension is known for this name or number. </p>
</div> <hr><h3 id="Reflection.SupportsUnknownEnumValues.details"><code>bool Reflection::SupportsUnknownEnumValues() const</code></h3><div style="margin-left: 16px"><p>Does this message support storing arbitrary integer values in enum fields? If |true|, GetEnumValue/SetEnumValue and associated repeated-field versions take arbitrary integer values, and the legacy GetEnum() getter will dynamically create an <a href='google.protobuf.descriptor#EnumValueDescriptor'>EnumValueDescriptor</a> for any integer value without one. </p><p>If |false|, setting an unknown enum value via the integer-based setters results in undefined behavior (in practice, GOOGLE_DCHECK-fails).</p>
<p>Generic code that uses reflection to handle messages with enum fields should check this flag before using the integer-based setter, and either downgrade to a compatible value or use the <a href='google.protobuf.unknown_field_set#UnknownFieldSet'>UnknownFieldSet</a> if not. For example:</p>
<pre>int new_value = GetValueFromApplicationLogic();
if (reflection-&gt;SupportsUnknownEnumValues()) {
  reflection-&gt;SetEnumValue(message, field, new_value);
} else {
  if (field_descriptor-&gt;enum_type()-&gt;
          FindValueByNumber(new_value) != nullptr) {
    reflection-&gt;SetEnumValue(message, field, new_value);
  } else if (emit_unknown_enum_values) {
    reflection-&gt;MutableUnknownFields(message)-&gt;AddVarint(
        field-&gt;number(), new_value);
  } else {
    // convert value to a compatible/default value.
    new_value = CompatibleDowngrade(new_value);
    reflection-&gt;SetEnumValue(message, field, new_value);
  }
}</pre>
</div> <hr><h3 id="Reflection.GetMessageFactory.details"><code><a href='#MessageFactory'>MessageFactory</a> * Reflection::GetMessageFactory() const</code></h3><div style="margin-left: 16px"><p>Returns the <a href='#MessageFactory'>MessageFactory</a> associated with this message. </p><p>This can be useful for determining if a message is a generated message or not, for example: </p>
<pre>if (message-&gt;GetReflection()-&gt;GetMessageFactory() ==
    google::protobuf::MessageFactory::generated_factory()) {
  // This is a generated message.
}</pre>
<p> It can also be used to create more messages of this type, though <a href='#Message.New'>Message::New()</a> is an easier way to accomplish this. </p>
</div><h2 id="MessageFactory">class MessageFactory</h2><p><code>#include &lt;<a href="#">google/protobuf/message.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>Abstract interface for a factory for message objects. </p><p>Known subclasses:</p><ul><li><code><a href="google.protobuf.dynamic_message#DynamicMessageFactory">DynamicMessageFactory</a></code></li></ul><table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="MessageFactory.MessageFactory"><div style="padding-left: 16px; text-indent: -16px"><code><b>MessageFactory</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual </code></td><td style="border-left-width: 0px"id="MessageFactory.~MessageFactory"><div style="padding-left: 16px; text-indent: -16px"><code><b>~MessageFactory</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual const <a href='#Message'>Message</a> *</code></td><td style="border-left-width: 0px"id="MessageFactory.GetPrototype"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetPrototype</b>(const <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> * type)  = 0</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Given a <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a>, gets or constructs the default (prototype) <a href='#Message'>Message</a> of that type.  <a href="#MessageFactory.GetPrototype.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>static <a href='#MessageFactory'>MessageFactory</a> *</code></td><td style="border-left-width: 0px"id="MessageFactory.generated_factory"><div style="padding-left: 16px; text-indent: -16px"><code><b>generated_factory</b>()</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Gets a <a href='#MessageFactory'>MessageFactory</a> which supports all generated, compiled-in messages.  <a href="#MessageFactory.generated_factory.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>static void</code></td><td style="border-left-width: 0px"id="MessageFactory.InternalRegisterGeneratedFile"><div style="padding-left: 16px; text-indent: -16px"><code><b>InternalRegisterGeneratedFile</b>(const google::protobuf::internal::DescriptorTable * table)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">For internal use only: Registers a .proto file at static initialization time, to be placed in generated_factory.  <a href="#MessageFactory.InternalRegisterGeneratedFile.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>static void</code></td><td style="border-left-width: 0px"id="MessageFactory.InternalRegisterGeneratedMessage"><div style="padding-left: 16px; text-indent: -16px"><code><b>InternalRegisterGeneratedMessage</b>(const <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> * descriptor, const <a href='#Message'>Message</a> * prototype)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">For internal use only: Registers a message type.  <a href="#MessageFactory.InternalRegisterGeneratedMessage.details">more...</a></div></td></tr></table> <hr><h3 id="MessageFactory.GetPrototype.details"><code>virtual const <a href='#Message'>Message</a> * MessageFactory::GetPrototype(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> * type)  = 0</code></h3><div style="margin-left: 16px"><p>Given a <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a>, gets or constructs the default (prototype) <a href='#Message'>Message</a> of that type. </p><p>You can then call that message's New() method to construct a mutable message of that type.</p>
<p>Calling this method twice with the same <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> returns the same object. The returned object remains property of the factory. Also, any objects created by calling the prototype's New() method share some data with the prototype, so these must be destroyed before the <a href='#MessageFactory'>MessageFactory</a> is destroyed.</p>
<p>The given descriptor must outlive the returned message, and hence must outlive the <a href='#MessageFactory'>MessageFactory</a>.</p>
<p>Some implementations do not support all types. <a href='#MessageFactory.GetPrototype'>GetPrototype()</a> will return nullptr if the descriptor passed in is not supported.</p>
<p>This method may or may not be thread-safe depending on the implementation. Each implementation should document its own degree thread-safety. </p>
</div> <hr><h3 id="MessageFactory.generated_factory.details"><code>static <a href='#MessageFactory'>MessageFactory</a> * MessageFactory::generated_factory()</code></h3><div style="margin-left: 16px"><p>Gets a <a href='#MessageFactory'>MessageFactory</a> which supports all generated, compiled-in messages. </p><p>In other words, for any compiled-in type FooMessage, the following is true: </p>
<pre>MessageFactory::generated_factory()-&gt;GetPrototype(
  FooMessage::descriptor()) == FooMessage::default_instance()</pre>
<p> This factory supports all types which are found in <a href='google.protobuf.descriptor#DescriptorPool.generated_pool'>DescriptorPool::generated_pool()</a>. If given a descriptor from any other pool, <a href='#MessageFactory.GetPrototype'>GetPrototype()</a> will return nullptr. (You can also check if a descriptor is for a generated message by checking if descriptor-&gt;file()-&gt;pool() == <a href='google.protobuf.descriptor#DescriptorPool.generated_pool'>DescriptorPool::generated_pool()</a>.)</p>
<p>This factory is 100% thread-safe; calling <a href='#MessageFactory.GetPrototype'>GetPrototype()</a> does not modify any shared data.</p>
<p>This factory is a singleton. The caller must not delete the object. </p>
</div> <hr><h3 id="MessageFactory.InternalRegisterGeneratedFile.details"><code>static void MessageFactory::InternalRegisterGeneratedFile(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const google::protobuf::internal::DescriptorTable * table)</code></h3><div style="margin-left: 16px"><p>For internal use only: Registers a .proto file at static initialization time, to be placed in generated_factory. </p><p>The first time <a href='#MessageFactory.GetPrototype'>GetPrototype()</a> is called with a descriptor from this file, |register_messages| will be called, with the file name as the parameter. It must call <a href='#MessageFactory.InternalRegisterGeneratedMessage'>InternalRegisterGeneratedMessage()</a> (below) to register each message type in the file. This strange mechanism is necessary because descriptors are built lazily, so we can't register types by their descriptor until we know that the descriptor exists. |filename| must be a permanent string. </p>
</div> <hr><h3 id="MessageFactory.InternalRegisterGeneratedMessage.details"><code>static void MessageFactory::InternalRegisterGeneratedMessage(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.descriptor#Descriptor'>Descriptor</a> * descriptor,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='#Message'>Message</a> * prototype)</code></h3><div style="margin-left: 16px"><p>For internal use only: Registers a message type. </p><p>Called only by the functions which are registered with <a href='#MessageFactory.InternalRegisterGeneratedFile'>InternalRegisterGeneratedFile()</a>, above. </p>
</div>
